{"version":3,"sources":["modal.js","../../AppData/Roaming/npm/node_modules/parcel-bundler/src/builtins/hmr-runtime.js"],"names":["ezshop","window","location","href","split","pop","fetchCampaignInfo","fetch","method","headers","res","json","responseJson","data","fetchCartInfo","ClassWatcher","targetNode","classToWatch","classAddedCallback","classRemovedCallback","mutationsList","mutation","type","attributeName","currentClassState","target","classList","contains","lastClassState","observer","init","MutationObserver","mutationCallback","observe","attributes","disconnect","campaignInfo","campData","cartData","console","log","forEach","campaign","freePlan","style","content","settings","_id","createdAt","name","borderColor","backgroundColor","primaryButtonColor","overlayColor","triggers","triggerMatch","campaignType","body","document","querySelector","modal","createElement","add","notification","appendChild","link1","rel","head","setContentTypes","contentType","innerHTML","borderRadius","imgUrl","headline","buttonUrl","buttonText","success","url","includes","cartProgress","total_price","cartGoalValue","remainder","cartGoalPrize","cartSuccessMessage","products","selectedProducts","selection","map","product","images","originalSrc","title","variants","price","variant","id","availableForSale","ezy","productfeed","requestType","successCallback","errorCallback","Accept","JSON","stringify","then","response","catch","error","addVariant","variantID","quantity","callback","items","setTimeout","scrollHorizontally","element","direction","scroll","left","scrollLeft","behavior","toggleButton","button","remove","disabled","disableButton","enableButton","scrollArrowButtons","getElementsByClassName","Array","from","scrollArrowButton","addEventListener","e","scrollContainerClass","getAttribute","scrollDirection","scrollContainers","scrollContainer","addVariantButtons","addVariantButton","variantId","showNotification","closingBehav","changeVariantSelects","changeVariantSelect","variantAvailability","options","selectedIndex","variantPrice","value","productItem","closest","setAttribute","event","Event","dispatchEvent","message","handleAutoClose","autoClose","autoCloseTime","handleFrequency","frequency","localStorage","removeItem","timesShown","Date","prototype","addDays","days","date","valueOf","setDate","getDate","limitPeriod","parseInt","frequencyPeriod","creationDate","limitResetDate","today","getItem","setItem","count","frequencyTime","triggered","workOnClassAdd","workOnClassRemoval","classWatcher","createModal","condition","timerElapsed","exit","scrolled","finishedScrolling","checkCondition","trigger","triggerType","matchingFormat","urlTrigger","matchingInput","item_count","matchingCartItems","find","item","undefined","trapFocus","focusableElements","firstFocusableElement","querySelectorAll","focusableContent","lastFocusableElement","length","isTabPressed","key","keyCode","shiftKey","activeElement","focus","preventDefault","check","conditionsMatched","every","some","timerObj","closeBtn","isOpen","mainBtn","buttonClose","removeEventListener","mouseEvent","ns","apply","arguments","origin","clone","cartDataFetch","cart","open","XMLHttpRequest","openReplacement","_url","updateCartInfo","shouldShowExitIntent","toElement","relatedTarget","clientY","catchModal","scrollpos","scrollY","scrollObj","OVERLAY_ID","OldModule","module","bundle","Module","moduleName","call","hot","hotData","_acceptCallbacks","_disposeCallbacks","accept","fn","push","dispose","checkedAssets","assetsToAccept","parent","isParcelRequire","WebSocket","hostname","protocol","ws","onmessage","parse","handled","assets","asset","isNew","didAccept","hmrAcceptCheck","global","parcelRequire","generated","js","clear","hmrApply","v","hmrAcceptRun","reload","close","onclose","removeErrorOverlay","stack","overlay","createErrorOverlay","getElementById","stackTrace","innerText","getParents","modules","parents","k","d","dep","isArray","concat","Function","deps","cached","cache","cb"],"mappings":"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","file":"modal.js","sourceRoot":"..","sourcesContent":["const ezshop = window.location.href.split(\"https://\").pop().split(\"/\")[0];\r\n\r\nconst fetchCampaignInfo = async () => {\r\n  const res = await fetch(\r\n    `https://easypop.herokuapp.com/api/campaigns/${ezshop}`,\r\n    {\r\n      method: \"GET\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    }\r\n  );\r\n  const responseJson = await res.json();\r\n  return responseJson.data;\r\n};\r\n\r\nconst fetchCartInfo = async () => {\r\n  const res = await fetch(`/cart.js`, {\r\n    method: \"GET\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n  });\r\n  const responseJson = await res.json();\r\n  return responseJson;\r\n};\r\n\r\n// MUTATION OBSERVER TO WATCH FOR CLASS CHANGES\r\nclass ClassWatcher {\r\n  constructor(\r\n    targetNode,\r\n    classToWatch,\r\n    classAddedCallback,\r\n    classRemovedCallback\r\n  ) {\r\n    this.targetNode = targetNode;\r\n    this.classToWatch = classToWatch;\r\n    this.classAddedCallback = classAddedCallback;\r\n    this.classRemovedCallback = classRemovedCallback;\r\n    this.observer = null;\r\n    this.lastClassState = targetNode.classList.contains(this.classToWatch);\r\n\r\n    this.init();\r\n  }\r\n\r\n  init() {\r\n    this.observer = new MutationObserver(this.mutationCallback);\r\n    this.observe();\r\n  }\r\n\r\n  observe() {\r\n    this.observer.observe(this.targetNode, { attributes: true });\r\n  }\r\n\r\n  disconnect() {\r\n    this.observer.disconnect();\r\n  }\r\n\r\n  mutationCallback = (mutationsList) => {\r\n    for (let mutation of mutationsList) {\r\n      if (\r\n        mutation.type === \"attributes\" &&\r\n        mutation.attributeName === \"class\"\r\n      ) {\r\n        let currentClassState = mutation.target.classList.contains(\r\n          this.classToWatch\r\n        );\r\n        if (this.lastClassState !== currentClassState) {\r\n          this.lastClassState = currentClassState;\r\n          if (currentClassState) {\r\n            this.classAddedCallback();\r\n          } else {\r\n            this.classRemovedCallback();\r\n          }\r\n        }\r\n      }\r\n    }\r\n  };\r\n}\r\n\r\nconst campaignInfo = async () => {\r\n  try {\r\n    const campData = await fetchCampaignInfo();\r\n    let cartData = await fetchCartInfo();\r\n    console.log(cartData);\r\n\r\n    campData.forEach((campaign) => {\r\n      console.log(campaign);\r\n      const {\r\n        freePlan,\r\n        style,\r\n        content,\r\n        settings,\r\n        _id,\r\n        createdAt,\r\n        name,\r\n      } = campaign;\r\n      const {\r\n        borderColor,\r\n        backgroundColor,\r\n        primaryButtonColor,\r\n        overlayColor,\r\n      } = style;\r\n      const { triggers, triggerMatch } = settings;\r\n      // I GUESS THIS IS WHERE WE BUILD THE CAMPAIGNS\r\n      if (style.campaignType === \"modal\") {\r\n        // DOM hooks\r\n        const body = document.querySelector(\"body\");\r\n        const modal = document.createElement(\"section\");\r\n        modal.classList.add(\"ezy\", \"ezy-style-modal\");\r\n\r\n        // NOTIFICATION HTML, SEPARATE FROM THE MODAL\r\n        const notification = document.createElement(\"div\");\r\n        notification.classList.add(\"ezy\", \"ezy-notification\");\r\n        body.appendChild(notification);\r\n\r\n        let link1 = document.createElement(\"link\");\r\n        link1.rel = \"stylesheet\";\r\n        link1.href =\r\n          \"https://cdn.jsdelivr.net/gh/DrJulik/scripts@1.0.947423/styles.min.css\";\r\n        document.head.appendChild(link1);\r\n\r\n        // SET CONTENT TYPES\r\n        const setContentTypes = () => {\r\n          // tw-hidden inside section\r\n          if (content.contentType === \"text-image\") {\r\n            modal.innerHTML = `\r\n            <!-- TEMPLATE STARTS -->\r\n\r\n  <section class=\"ezy-style-modal__window\">\r\n    <section class=\"ezy-style-modal__close\">\r\n      <a href=\"#\" class=\"closeBtn\" title=\"Close popup modal\"\">\r\n        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"feather feather-x ezy-btn--round--clear\"><line x1=\"18\" y1=\"6\" x2=\"6\" y2=\"18\"></line><line x1=\"6\" y1=\"6\" x2=\"18\" y2=\"18\"></line></svg>\r\n      </a>\r\n    </section>\r\n    <section class=\"ezy-style-modal__content\"\r\n      style=\"\r\n        background-color:${style.backgroundColor};\r\n        border-radius:${style.borderRadius}px\">\r\n\r\n      <section>\r\n        \r\n<!-- CONTENT -->\r\n<section>\r\n  <div class=\"tw-flex tw-flex-row tw-flex-wrap tw-justify-center\">\r\n    <!-- ##IF IMAGE## -->\r\n    ${\r\n      content.imgUrl !== \"\"\r\n        ? `<div class=\"tw-w-full sm:tw-w-1/2\"> \r\n      <div>\r\n        <img class=\"ezy-style-modal__content__image\" src=\"${content.imgUrl}\"/>\r\n      </div>\r\n    </div>`\r\n        : \"\"\r\n    }\r\n   \r\n    <!-- ##ENDIF## -->\r\n    <div class=\"tw-w-full sm:tw-w-1/2 tw-max-w-prose tw-flex tw-flex-grow tw-justify-center tw-items-center tw-p-4 tw-md:p-8\">\r\n      <div>\r\n        <h3 class=\"ezy-type__headline--bold-1 tw-mb-2\">${content.headline}</h3>\r\n        <p class=\"tw-mb-4\">\r\n        ${content.body}\r\n        </p>\r\n        <a class=\"main-btn ezy-btn tw-w-full\" href=\"${content.buttonUrl}\"\r\n          style=\"\r\n            background-color:${style.primaryButtonColor};\r\n            border-radius:${style.borderRadius}px\">${content.buttonText}</a>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</section>\r\n<!-- END CONTENT -->\r\n\r\n\r\n      </section>\r\n\r\n    </section>\r\n  </section>\r\n  <a href=\"https://brickspacelab.com/\" target=\"_blank\" class=\"ezy-tooltip ezy-tooltip--inverted tw-absolute tw-bottom-2 tw-left-2\r\n    ##IF PAID_PLAN##tw-hidden##ENDIF##\">\r\n    ${\r\n      freePlan\r\n        ? `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"feather feather-info\"><circle cx=\"12\" cy=\"12\" r=\"10\"></circle><line x1=\"12\" y1=\"16\" x2=\"12\" y2=\"12\"></line><line x1=\"12\" y1=\"8\" x2=\"12.01\" y2=\"8\"></line></svg>\r\n    <span>Powered by Easypop</span>`\r\n        : \"\"\r\n    }\r\n    \r\n  </a>\r\n\r\n            `;\r\n\r\n            body.appendChild(modal);\r\n          } else if (content.contentType === \"newsletter\") {\r\n            let success;\r\n            let url = window.location.href;\r\n            if (url.includes(\"?customer_posted=true\")) {\r\n              success = \"yes\";\r\n            } else if (\r\n              url.includes(\r\n                \"t?contact%5Btags%5D=prospect%2Cnewsletter&form_type=customer\"\r\n              )\r\n            ) {\r\n              success = \"no\";\r\n            }\r\n\r\n            modal.innerHTML = `\r\n            <section class=\"ezy-style-modal__window\">\r\n              <section class=\"ezy-style-modal__close\">\r\n                <a href=\"#\" class=\"closeBtn\" title=\"Close popup modal\">\r\n                  <svg\r\n                    xmlns=\"http://www.w3.org/2000/svg\"\r\n                    width=\"24\"\r\n                    height=\"24\"\r\n                    viewBox=\"0 0 24 24\"\r\n                    fill=\"none\"\r\n                    stroke=\"currentColor\"\r\n                    stroke-width=\"2\"\r\n                    stroke-linecap=\"round\"\r\n                    stroke-linejoin=\"round\"\r\n                    class=\"feather feather-x ezy-btn--round--clear\"\r\n                  >\r\n                    <line x1=\"18\" y1=\"6\" x2=\"6\" y2=\"18\"></line>\r\n                    <line x1=\"6\" y1=\"6\" x2=\"18\" y2=\"18\"></line>\r\n                  </svg>\r\n                </a>\r\n              </section>\r\n              <section\r\n                class=\"ezy-style-modal__content\"\r\n                style=\"\r\n                  background-color: ${backgroundColor};\r\n                  border-radius: ${style.borderRadius}px;\r\n                \"\r\n              >\r\n              <section>\r\n              <div class=\"tw-flex tw-flex-row tw-flex-wrap tw-justify-center\">\r\n                <!-- ##IF IMAGE## -->\r\n                ${\r\n                  content.imgUrl !== \"\"\r\n                    ? `\r\n                <div class=\"tw-w-full sm:tw-w-1/2\">\r\n                  <div>\r\n                    <img class=\"ezy-style-modal__content__image\" src=\"${content.imgUrl}\" />\r\n                  </div>\r\n                </div>\r\n                <!-- ##ENDIF## -->`\r\n                    : \"\"\r\n                }\r\n            \r\n                <div\r\n                  class=\"tw-w-full sm:tw-w-1/2 tw-max-w-prose tw-flex tw-flex-grow tw-justify-center tw-items-center tw-p-4 tw-md:p-8\"\r\n                >\r\n                  <div>\r\n                    <h3 class=\"ezy-type__headline--bold-1 tw-mb-2\">\r\n                      ${content.headline}\r\n                    </h3>\r\n                    <p class=\"tw-mb-4\">${content.body}</p>\r\n                    <form\r\n                      method=\"post\"\r\n                      action=\"/contact#contact_form\"\r\n                      id=\"contact_form\"\r\n                      accept-charset=\"UTF-8\"\r\n                      class=\"contact-form\"\r\n                    >\r\n                      <input type=\"hidden\" name=\"form_type\" value=\"customer\" /><input\r\n                        type=\"hidden\"\r\n                        name=\"utf8\"\r\n                        value=\"âœ“\"\r\n                      />\r\n                      <input\r\n                        id=\"contact_tags\"\r\n                        name=\"contact[tags]\"\r\n                        type=\"hidden\"\r\n                        value=\"prospect,newsletter\"\r\n                      />\r\n            \r\n                      <input\r\n                        class=\"tw-mb-2\"\r\n                        id=\"contact_email\"\r\n                        name=\"contact[email]\"\r\n                        type=\"email\"\r\n                      />\r\n            \r\n                      <input\r\n                        style=\"\r\n            background-color: ${primaryButtonColor};\r\n            border-radius: ${style.borderRadius}px;\r\n            \"\r\n                        class=\"ezy-btn tw-w-full\"\r\n                        type=\"submit\"\r\n                        value=\"${content.buttonText}\"\r\n                      />\r\n                      ${\r\n                        success === \"yes\"\r\n                          ? `\r\n                      <h3 style=\"color: green\">Thank you for signing up!</h3>\r\n                      `\r\n                          : \"\"\r\n                      } ${\r\n              success === \"no\"\r\n                ? `\r\n                      <h3 style=\"color: red\">Please input a valid email!</h3>\r\n                      `\r\n                : \"\"\r\n            }\r\n                    </form>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </section>`;\r\n            body.appendChild(modal);\r\n          } else if (content.contentType === \"cart-progress-bar\") {\r\n            // for local testing\r\n            // let cartData = {\r\n            //   total_price: 49900,\r\n            // };\r\n            let cartProgress;\r\n            if (cartData.total_price === 0) {\r\n              cartProgress = 0;\r\n            } else {\r\n              cartProgress =\r\n                (cartData.total_price / 100 / content.cartGoalValue) * 100;\r\n            }\r\n\r\n            let remainder = cartData.total_price / 100 - content.cartGoalValue;\r\n\r\n            modal.innerHTML = `\r\n            <section class=\"ezy-style-modal__window\">\r\n              <section class=\"ezy-style-modal__close\">\r\n                <a href=\"#\" class=\"closeBtn\" title=\"Close popup modal\">\r\n                  <svg\r\n                    xmlns=\"http://www.w3.org/2000/svg\"\r\n                    width=\"24\"\r\n                    height=\"24\"\r\n                    viewBox=\"0 0 24 24\"\r\n                    fill=\"none\"\r\n                    stroke=\"currentColor\"\r\n                    stroke-width=\"2\"\r\n                    stroke-linecap=\"round\"\r\n                    stroke-linejoin=\"round\"\r\n                    class=\"feather feather-x ezy-btn--round--clear\"\r\n                  >\r\n                    <line x1=\"18\" y1=\"6\" x2=\"6\" y2=\"18\"></line>\r\n                    <line x1=\"6\" y1=\"6\" x2=\"18\" y2=\"18\"></line>\r\n                  </svg>\r\n                </a>\r\n              </section>\r\n              <section\r\n                class=\"ezy-style-modal__content\"\r\n                style=\"\r\n                  background-color: ${backgroundColor};\r\n                  border-radius: ${style.borderRadius}px;\r\n                \"\r\n              >\r\n                <!-- CONTENT -->\r\n                <section>\r\n                  <div class=\"tw-flex tw-flex-row tw-flex-wrap tw-justify-center\">\r\n                    <div\r\n                      class=\"tw-w-full sm:tw-w-1/2 tw-max-w-prose tw-flex tw-flex-grow tw-justify-center tw-items-center\"\r\n                    >\r\n                      <div>\r\n                        <section class=\"tw-border-b tw-border-gray-200 tw-p-4\">\r\n                          <p class=\"tw-mb-1\">\r\n                          ${\r\n                            remainder < 0\r\n                              ? `You're $${-remainder} away from ${\r\n                                  content.cartGoalPrize\r\n                                }.`\r\n                              : `${content.cartSuccessMessage}`\r\n                          }\r\n                          </p>\r\n                          <div\r\n                            class=\"ezy-progressbar\"\r\n                            style=\"\r\n                              \r\n                              border-radius: ${style.borderRadius}px;\r\n                            \"\r\n                          >\r\n                            <div class=\"ezy-progressbar__inner\" style=\"width: ${cartProgress}%; background-color: ${primaryButtonColor};\"></div>\r\n                          </div>\r\n                        </section>\r\n          \r\n                        <section class=\"tw-p-4 tw-md:p-8\">\r\n                          <h3 class=\"ezy-type__headline--bold-1 tw-mb-2\">\r\n                            ${content.headline}\r\n                          </h3>\r\n                          <p class=\"tw-mb-4\">\r\n                            ${content.body}\r\n                          </p>\r\n          \r\n                          <a\r\n                            class=\"main-btn ezy-btn tw-w-full\"\r\n                            href=\"${content.buttonUrl}\"\r\n                            style=\"\r\n                              background-color: ${style.primaryButtonColor};\r\n                              border-radius: ${style.borderRadius}px;\r\n                            \"\r\n                          >\r\n                            ${content.buttonText}\r\n                          </a>\r\n                        </section>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </section>\r\n                <!-- END CONTENT -->\r\n              </section>\r\n            </section>\r\n            ${\r\n              freePlan\r\n                ? `<a\r\n            href=\"https://brickspacelab.com/\"\r\n            target=\"_blank\"\r\n            class=\"ezy-tooltip ezy-tooltip--inverted tw-absolute tw-bottom-2 tw-left-2\"\r\n          >\r\n            <svg\r\n              xmlns=\"http://www.w3.org/2000/svg\"\r\n              width=\"24\"\r\n              height=\"24\"\r\n              viewBox=\"0 0 24 24\"\r\n              fill=\"none\"\r\n              stroke=\"currentColor\"\r\n              stroke-width=\"2\"\r\n              stroke-linecap=\"round\"\r\n              stroke-linejoin=\"round\"\r\n              class=\"feather feather-info\"\r\n            >\r\n              <circle cx=\"12\" cy=\"12\" r=\"10\"></circle>\r\n              <line x1=\"12\" y1=\"16\" x2=\"12\" y2=\"12\"></line>\r\n              <line x1=\"12\" y1=\"8\" x2=\"12.01\" y2=\"8\"></line>\r\n            </svg>\r\n            <span>Powered by Easypop</span>\r\n          </a>`\r\n                : ``\r\n            }\r\n            \r\n          \r\n          `;\r\n            body.appendChild(modal);\r\n          } else if (content.contentType === \"product-feed\") {\r\n            const products = content.selectedProducts[0].selection;\r\n            modal.innerHTML = `\r\n            \r\n            <!-- TEMPLATE STARTS -->\r\n  <section class=\"ezy-style-modal__window\">\r\n    <section class=\"ezy-style-modal__close\">\r\n      <a href=\"#\" class=\"closeBtn\" title=\"Close popup modal\"\">\r\n        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"feather feather-x ezy-btn--round--clear\"><line x1=\"18\" y1=\"6\" x2=\"6\" y2=\"18\"></line><line x1=\"6\" y1=\"6\" x2=\"18\" y2=\"18\"></line></svg>\r\n      </a>\r\n    </section>\r\n    <section class=\"ezy-style-modal__content\"\r\n      style=\"\r\n        background-color:${style.backgroundColor};\r\n        border-radius:${style.borderRadius}\">\r\n      <section>\r\n        <!-- CONTENT -->\r\n<div class=\"tw-flex tw-flex-row tw-flex-wrap\">\r\n  <div class=\"tw-w-full sm:tw-w-full tw-flex tw-justify-center tw-items-center\">\r\n    <div class=\"tw-overflow-hidden\">\r\n      <div class=\"tw-p-4 tw-max-w-prose\">\r\n        <h3 class=\"ezy-type__headline--bold-1\">${content.headline}</h3>\r\n        <p>\r\n        ${content.body}\r\n        </p>\r\n      </div>\r\n      <div class=\"ezy-type-productfeed__arrows\">\r\n        <div class=\"ezy-type-productfeed__back\">\r\n          <button class=\"js:ezy-scrollArrowButtons\" data-scroll-direction=\"0\" data-scroll-container=\"ezy-type-productfeed\">\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"feather feather-arrow-left ezy-btn--round\"><line x1=\"19\" y1=\"12\" x2=\"5\" y2=\"12\"></line><polyline points=\"12 19 5 12 12 5\"></polyline></svg>\r\n          </button>\r\n        </div>\r\n        <div class=\"ezy-type-productfeed__next\">\r\n          <button class=\"js:ezy-scrollArrowButtons\" data-scroll-direction=\"1\" data-scroll-container=\"ezy-type-productfeed\">\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"feather feather-arrow-right ezy-btn--round\"><line x1=\"5\" y1=\"12\" x2=\"19\" y2=\"12\"></line><polyline points=\"12 5 19 12 12 19\"></polyline></svg>\r\n          </button>\r\n        </div>\r\n      </div>\r\n      <div class=\"ezy-type-productfeed\">\r\n        ${products.map((product) => {\r\n          return `\r\n          <div class=\"ezy-type-productfeed__item\">\r\n          <img class=\"image--square\" src=${product.images[0].originalSrc}/>\r\n          <div class=\"tw-px-2 tw-py-4\">\r\n            <p>${product.title}</p>\r\n            <p class=\"tw-pb-2\">$<span class=\"tw-pb-2 js:ezy-productPrice\">${\r\n              product.variants[0].price\r\n            }</span></p>\r\n            <select id=\"id\" name=\"id\" class=\"ezy-select tw-mb-2 js:ezy-changeVariantSelects\">\r\n              ${product.variants.map((variant) => {\r\n                return `<option value=\"${\r\n                  variant.id\r\n                    .split(\"gid://shopify/ProductVariant/\")\r\n                    .pop()\r\n                    .split(\"/\")[0]\r\n                }\" data-variant-availability=\"${\r\n                  variant.availableForSale\r\n                }\" data-variant-price=\"${variant.price}\">${\r\n                  variant.title\r\n                }</option>`;\r\n              })}\r\n            </select>\r\n            <button class=\"ezy-btn js:ezy-addVariantButtons tw-w-full\" style=\"background-color:${\r\n              style.primaryButtonColor\r\n            }\" data-variant-id=\"${product.variants[0].price}\">\r\n              <span class=\"ezy-btn__text\">\r\n                Add to cart\r\n              </span>\r\n              <span class=\"ezy-btn__spinner\">\r\n                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"feather feather-loader\"><line x1=\"12\" y1=\"2\" x2=\"12\" y2=\"6\"></line><line x1=\"12\" y1=\"18\" x2=\"12\" y2=\"22\"></line><line x1=\"4.93\" y1=\"4.93\" x2=\"7.76\" y2=\"7.76\"></line><line x1=\"16.24\" y1=\"16.24\" x2=\"19.07\" y2=\"19.07\"></line><line x1=\"2\" y1=\"12\" x2=\"6\" y2=\"12\"></line><line x1=\"18\" y1=\"12\" x2=\"22\" y2=\"12\"></line><line x1=\"4.93\" y1=\"19.07\" x2=\"7.76\" y2=\"16.24\"></line><line x1=\"16.24\" y1=\"7.76\" x2=\"19.07\" y2=\"4.93\"></line></svg>\r\n              </button>\r\n            </a>\r\n          </div>\r\n        </div>`;\r\n        })}\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n</section>\r\n\r\n    </section>\r\n  </section>\r\n  <a href=\"https://brickspacelab.com/\" target=\"_blank\" class=\"ezy-tooltip ezy-tooltip--inverted tw-absolute tw-bottom-2 tw-left-2\r\n    ##IF PAID_PLAN##tw-hidden##ENDIF##\">\r\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"feather feather-info\"><circle cx=\"12\" cy=\"12\" r=\"10\"></circle><line x1=\"12\" y1=\"16\" x2=\"12\" y2=\"12\"></line><line x1=\"12\" y1=\"8\" x2=\"12.01\" y2=\"8\"></line></svg>\r\n    <span>Powered by Easypop</span>\r\n  </a>\r\n</section>`;\r\n\r\n            body.appendChild(modal);\r\n            var ezy = ezy || {};\r\n            ezy.productfeed = {\r\n              // simple fetch call\r\n              fetch: function (\r\n                requestType,\r\n                url,\r\n                data,\r\n                contentType,\r\n                successCallback,\r\n                errorCallback\r\n              ) {\r\n                fetch(url, {\r\n                  method: requestType,\r\n                  headers: {\r\n                    \"Content-Type\": contentType,\r\n                    Accept: contentType,\r\n                    \"X-Requested-With\": \"xmlhttprequest\",\r\n                  },\r\n                  body: JSON.stringify(data),\r\n                })\r\n                  .then((response) => response.json())\r\n                  .then((data) => {\r\n                    successCallback(data);\r\n                  })\r\n                  .catch((error) => {\r\n                    errorCallback(error);\r\n                  });\r\n              },\r\n\r\n              // initilize product feed\r\n              init: function () {\r\n                // add variant to cart\r\n                function addVariant(variantID, quantity, callback) {\r\n                  let data = {\r\n                    items: [\r\n                      {\r\n                        id: variantID,\r\n                        quantity: quantity,\r\n                      },\r\n                    ],\r\n                  };\r\n                  ezy.productfeed.fetch(\r\n                    \"POST\",\r\n                    \"/cart/add.js\",\r\n                    data,\r\n                    \"application/json; charset=utf-8\",\r\n\r\n                    // success\r\n                    function (data) {\r\n                      console.log(data);\r\n                      if (typeof callback === \"function\" && callback()) {\r\n                        window.setTimeout(function () {\r\n                          callback();\r\n                        }, 500);\r\n                      }\r\n                    },\r\n\r\n                    // error\r\n                    function (error) {\r\n                      if (typeof callback === \"function\" && callback()) {\r\n                        window.setTimeout(function () {\r\n                          callback();\r\n                        }, 500);\r\n                      }\r\n                    }\r\n                  );\r\n                }\r\n\r\n                // scroll container horizontally\r\n                function scrollHorizontally(element, direction) {\r\n                  if (direction == 0) {\r\n                    element.scroll({\r\n                      left: element.scrollLeft - 350,\r\n                      behavior: \"smooth\",\r\n                    });\r\n                  } else {\r\n                    element.scroll({\r\n                      left: element.scrollLeft + 350,\r\n                      behavior: \"smooth\",\r\n                    });\r\n                  }\r\n                }\r\n\r\n                // toggle loading state of button\r\n                function toggleButton(button) {\r\n                  if (button.classList.contains(\"ezy-btn--loading\")) {\r\n                    button.classList.remove(\"ezy-btn--loading\");\r\n                    button.disabled = false;\r\n                  } else {\r\n                    button.classList.add(\"ezy-btn--loading\");\r\n                    button.disabled = true;\r\n                  }\r\n                }\r\n\r\n                // add disabled state to button\r\n                function disableButton(button) {\r\n                  button.classList.add(\"ezy-btn--disabled\");\r\n                  button.disabled = true;\r\n                }\r\n\r\n                // add enabled state to button\r\n                function enableButton(button) {\r\n                  button.classList.remove(\"ezy-btn--disabled\");\r\n                  button.disabled = false;\r\n                }\r\n\r\n                // listen for click on scroll arrows\r\n                var scrollArrowButtons = document.getElementsByClassName(\r\n                  \"js:ezy-scrollArrowButtons\"\r\n                );\r\n                Array.from(scrollArrowButtons).forEach(function (\r\n                  scrollArrowButton\r\n                ) {\r\n                  scrollArrowButton.addEventListener(\"click\", function (e) {\r\n                    let scrollContainerClass = this.getAttribute(\r\n                      \"data-scroll-container\"\r\n                    );\r\n                    let scrollDirection = this.getAttribute(\r\n                      \"data-scroll-direction\"\r\n                    );\r\n                    var scrollContainers = document.getElementsByClassName(\r\n                      scrollContainerClass\r\n                    );\r\n                    Array.from(scrollContainers).forEach(function (\r\n                      scrollContainer\r\n                    ) {\r\n                      scrollHorizontally(scrollContainer, scrollDirection);\r\n                    });\r\n                  });\r\n                });\r\n\r\n                // listen for click on atc\r\n                var addVariantButtons = document.getElementsByClassName(\r\n                  \"js:ezy-addVariantButtons\"\r\n                );\r\n                Array.from(addVariantButtons).forEach(function (\r\n                  addVariantButton\r\n                ) {\r\n                  addVariantButton.addEventListener(\"click\", function (e) {\r\n                    let variantId = this.getAttribute(\"data-variant-id\");\r\n                    showNotification(\"Product was added to the cart!\");\r\n                    toggleButton(addVariantButton);\r\n                    addVariant(variantId, 1, function () {\r\n                      toggleButton(addVariantButton);\r\n                    });\r\n                    if (content.closingBehav === \"close\") {\r\n                      modal.classList.add(\"ezy-style-modal--animate\");\r\n                      setTimeout(function () {\r\n                        modal.classList.add(\"tw-hidden\");\r\n                      }, 1000);\r\n                    }\r\n                  });\r\n                });\r\n\r\n                // listen for change to for variant select\r\n                var changeVariantSelects = document.getElementsByClassName(\r\n                  \"js:ezy-changeVariantSelects\"\r\n                );\r\n                Array.from(changeVariantSelects).forEach(function (\r\n                  changeVariantSelect\r\n                ) {\r\n                  changeVariantSelect.addEventListener(\"change\", function () {\r\n                    let variantAvailability = this.options[\r\n                      this.selectedIndex\r\n                    ].getAttribute(\"data-variant-availability\");\r\n                    let variantPrice = this.options[\r\n                      this.selectedIndex\r\n                    ].getAttribute(\"data-variant-price\");\r\n                    let variantId = this.options[this.selectedIndex].value;\r\n                    let productItem = this.closest(\r\n                      \".ezy-type-productfeed__item\"\r\n                    );\r\n                    let button = productItem.getElementsByClassName(\r\n                      \"js:ezy-addVariantButtons\"\r\n                    )[0];\r\n\r\n                    // update variant id in button\r\n                    button.setAttribute(\"data-variant-id\", variantId);\r\n\r\n                    // update price in item\r\n                    productItem.getElementsByClassName(\r\n                      \"js:ezy-productPrice\"\r\n                    )[0].innerHTML = variantPrice;\r\n\r\n                    // check availability and update state\r\n                    if (variantAvailability == \"true\") {\r\n                      enableButton(button);\r\n                    } else {\r\n                      disableButton(button);\r\n                    }\r\n                  });\r\n                  // Create a new 'change' event\r\n                  var event = new Event(\"change\");\r\n                  changeVariantSelect.dispatchEvent(event);\r\n                });\r\n                let showNotification = function (message) {\r\n                  var notification = document.querySelector(\r\n                    \".ezy-notification\"\r\n                  );\r\n                  // for (var i = 0; i < notifications.length; i++) {\r\n                  //   let notification = notifications[i];\r\n                  //   let messageElement = notification.querySelector(\"span\");\r\n                  //   if (message) {\r\n                  //     messageElement.innerHTML = message;\r\n                  //   }\r\n                  //   notification.classList.add(\"ezy-notification--animate\");\r\n                  //   setTimeout(function () {\r\n                  //     notification.classList.remove(\r\n                  //       \"ezy-notification--animate\"\r\n                  //     );\r\n                  //   }, 3000);\r\n                  // }\r\n                  notification.innerHTML = message;\r\n                  notification.classList.add(\"ezy-notification--animate\");\r\n                  setTimeout(function () {\r\n                    notification.classList.remove(\"ezy-notification--animate\");\r\n                  }, 3000);\r\n                };\r\n              },\r\n            };\r\n            ezy.productfeed.init();\r\n          } else if (content.contentType === \"custom-html\") {\r\n            body.appendChild(modal);\r\n          }\r\n        };\r\n\r\n        // SETTINGS\r\n        // AUTO CLOSE\r\n        const handleAutoClose = () => {\r\n          console.log(\"we are auto-closed\");\r\n          if (settings.autoClose) {\r\n            setTimeout(() => {\r\n              modal.classList.remove(\"open\");\r\n              modal.classList.add(\"ezy-style-modal--animate\");\r\n              setTimeout(function () {\r\n                modal.classList.add(\"tw-hidden\");\r\n              }, 1000);\r\n            }, settings.autoCloseTime * 1000);\r\n          } else {\r\n            return;\r\n          }\r\n        };\r\n\r\n        // Frequency\r\n        const handleFrequency = (id) => {\r\n          console.log(\"we are handling frequency\");\r\n          // Check if they disabled frequency\r\n          if (!settings.frequency) {\r\n            localStorage.removeItem(`campaign_${id}`);\r\n            localStorage.removeItem(`limit_${id}`);\r\n          }\r\n\r\n          let timesShown = 1;\r\n\r\n          Date.prototype.addDays = function (days) {\r\n            let date = new Date(this.valueOf());\r\n            date.setDate(date.getDate() + days);\r\n            return date;\r\n          };\r\n\r\n          let limitPeriod = parseInt(settings.frequencyPeriod);\r\n          let creationDate = new Date(createdAt);\r\n          let limitResetDate = creationDate.addDays(limitPeriod);\r\n          let today = new Date();\r\n\r\n          if (limitResetDate <= today) {\r\n            localStorage.removeItem(`limit_${id}`);\r\n          }\r\n\r\n          if (settings.frequency) {\r\n            if (!localStorage.getItem(`campaign_${id}`)) {\r\n              localStorage.setItem(`campaign_${id}`, timesShown);\r\n              let count = localStorage.getItem(`campaign_${id}`);\r\n              if (\r\n                settings.frequency &&\r\n                parseInt(count) >= parseInt(settings.frequencyTime)\r\n              ) {\r\n                console.log(\"Limit is reached\");\r\n                localStorage.setItem(`limit_${id}`, true);\r\n              } else if (\r\n                settings.frequency &&\r\n                parseInt(count) < parseInt(settings.frequencyTime)\r\n              ) {\r\n                console.log(\"Limit not reached yet\");\r\n              } else {\r\n                console.log(\"Frequency is off\");\r\n              }\r\n            } else {\r\n              let count = localStorage.getItem(`campaign_${id}`);\r\n\r\n              if (!localStorage.getItem(`limit_${id}`)) {\r\n                count++;\r\n                localStorage.setItem(`campaign_${id}`, count);\r\n              } else {\r\n                return;\r\n              }\r\n\r\n              if (\r\n                settings.frequency &&\r\n                parseInt(count) >= parseInt(settings.frequencyTime)\r\n              ) {\r\n                console.log(\"Limit is reached\");\r\n                localStorage.setItem(`limit_${id}`, true);\r\n              } else if (\r\n                settings.frequency &&\r\n                parseInt(count) < parseInt(settings.frequencyTime)\r\n              ) {\r\n                console.log(\"Limit not reached yet\");\r\n              } else {\r\n                console.log(\"Frequency is off\");\r\n              }\r\n            }\r\n          } else {\r\n            return;\r\n          }\r\n        };\r\n\r\n        let triggered = false;\r\n        function workOnClassAdd() {\r\n          handleFrequency(_id);\r\n          handleAutoClose();\r\n\r\n          if (!triggered) {\r\n            triggered = true;\r\n          }\r\n        }\r\n\r\n        function workOnClassRemoval() {}\r\n\r\n        // watch for a specific class change\r\n        let classWatcher = new ClassWatcher(\r\n          modal,\r\n          \"open\",\r\n          workOnClassAdd,\r\n          workOnClassRemoval\r\n        );\r\n\r\n        const createModal = (condition) => {\r\n          // timer for time on page\r\n          let timerElapsed = false;\r\n\r\n          let exit = false;\r\n          let scrolled = false;\r\n          let finishedScrolling = false;\r\n\r\n          const checkCondition = (trigger) => {\r\n            if (trigger.triggerType === \"url\") {\r\n              if (trigger.matchingFormat === \"contains\") {\r\n                urlTrigger = window.location.href.includes(\r\n                  trigger.matchingInput\r\n                );\r\n                if (urlTrigger) {\r\n                  return trigger.triggerType === \"url\";\r\n                }\r\n              } else if (trigger.matchingFormat === \"matches\") {\r\n                urlTrigger = window.location.href === trigger.matchingInput;\r\n                if (urlTrigger) {\r\n                  return trigger.triggerType === \"url\";\r\n                }\r\n              }\r\n            } else if (trigger.triggerType === \"cart-size\") {\r\n              if (trigger.matchingFormat === \"greater\") {\r\n                if (cartData.item_count > trigger.matchingInput) {\r\n                  return trigger.triggerType === \"cart-size\";\r\n                }\r\n              } else if (trigger.matchingFormat === \"less\") {\r\n                if (cartData.item_count < trigger.matchingInput) {\r\n                  return trigger.triggerType === \"cart-size\";\r\n                }\r\n              }\r\n            } else if (trigger.triggerType === \"cart-value\") {\r\n              if (trigger.matchingFormat === \"greater\") {\r\n                if (cartData.total_price / 100 > trigger.matchingInput) {\r\n                  return trigger.triggerType === \"cart-value\";\r\n                }\r\n              } else if (trigger.matchingFormat === \"less\") {\r\n                if (cartData.total_price / 100 < trigger.matchingInput) {\r\n                  return trigger.triggerType === \"cart-value\";\r\n                }\r\n              }\r\n            } else if (trigger.triggerType === \"product-in-cart\") {\r\n              if (trigger.matchingFormat === \"contains\") {\r\n                let matchingCartItems = cartData.items.find((item) =>\r\n                  item.title.includes(trigger.matchingInput)\r\n                );\r\n                if (matchingCartItems != undefined) {\r\n                  return trigger.triggerType === \"product-in-cart\";\r\n                }\r\n              } else if (trigger.matchingFormat === \"matches\") {\r\n                let matchingCartItems = cartData.items.find(\r\n                  (item) => item.title === trigger.matchingInput\r\n                );\r\n                if (matchingCartItems != undefined) {\r\n                  return trigger.triggerType === \"product-in-cart\";\r\n                }\r\n              }\r\n            } else if (scrolled) {\r\n              return trigger.triggerType === \"scroll-depth\";\r\n            } else if (trigger.triggerType === \"time-on-page\") {\r\n              if (timerElapsed) {\r\n                return trigger.triggerType === \"time-on-page\";\r\n              }\r\n            } else if (trigger.triggerType === \"exit-intent\") {\r\n              if (exit) {\r\n                return trigger.triggerType === \"exit-intent\";\r\n              }\r\n            }\r\n          };\r\n\r\n          const trapFocus = (element) => {\r\n            const modal = element;\r\n            const focusableElements =\r\n              'a[href]:not([disabled]), button:not([disabled]), textarea:not([disabled]), input[type=\"text\"]:not([disabled]), input[type=\"radio\"]:not([disabled]), input[type=\"checkbox\"]:not([disabled]), select:not([disabled])';\r\n            const firstFocusableElement = modal.querySelectorAll(\r\n              focusableElements\r\n            )[0];\r\n            const focusableContent = modal.querySelectorAll(focusableElements);\r\n            const lastFocusableElement =\r\n              focusableContent[focusableContent.length - 1];\r\n\r\n            document.addEventListener(\"keydown\", function (e) {\r\n              let isTabPressed = e.key === \"Tab\" || e.keyCode === 9;\r\n\r\n              if (!isTabPressed) {\r\n                return;\r\n              }\r\n\r\n              // if shift key pressed for shift + tab combination\r\n              if (e.shiftKey) {\r\n                if (document.activeElement === firstFocusableElement) {\r\n                  lastFocusableElement.focus();\r\n                  e.preventDefault();\r\n                }\r\n              }\r\n\r\n              // if tab key is pressed\r\n              else {\r\n                if (document.activeElement === lastFocusableElement) {\r\n                  firstFocusableElement.focus();\r\n                  e.preventDefault();\r\n                }\r\n              }\r\n            });\r\n          };\r\n\r\n          // CHECK FUNCTION\r\n          function check() {\r\n            console.log(\"checked\");\r\n\r\n            let conditionsMatched;\r\n            if (condition === \"all\") {\r\n              conditionsMatched = triggers.every(checkCondition);\r\n            } else if (condition === \"any\") {\r\n              conditionsMatched = triggers.some(checkCondition);\r\n            }\r\n\r\n            let timerObj = triggers.find(\r\n              (trigger) => trigger.triggerType === \"time-on-page\"\r\n            );\r\n            if (!timerElapsed) {\r\n              setTimeout(\r\n                () => {\r\n                  timerElapsed = true;\r\n                  check();\r\n                },\r\n                timerObj ? timerObj.matchingInput * 1000 : null\r\n              );\r\n            }\r\n\r\n            if (\r\n              conditionsMatched &&\r\n              !finishedScrolling &&\r\n              !triggered &&\r\n              !localStorage.getItem(`limit_${_id}`)\r\n            ) {\r\n              console.log(\"conditions matched\");\r\n              // CONTENT TYPES\r\n              setContentTypes();\r\n              modal.classList.add(\"open\");\r\n              modal.classList.add(\"ezy-style-modal--animate\");\r\n              setTimeout(function () {\r\n                modal.classList.remove(\"ezy-style-modal--animate\");\r\n              }, 100);\r\n\r\n              let closeBtn = document.querySelector(\".closeBtn\");\r\n              closeBtn.addEventListener(\"click\", (e) => {\r\n                modal.classList.add(\"ezy-style-modal--animate\");\r\n                setTimeout(function () {\r\n                  modal.classList.add(\"tw-hidden\");\r\n                }, 1000);\r\n                isOpen = false;\r\n              });\r\n              closeBtn.addEventListener(\"keyup\", (e) => {\r\n                if (e.keyCode === 13) {\r\n                  e.preventDefault();\r\n                  modal.classList.add(\"ezy-style-modal--animate\");\r\n                  setTimeout(function () {\r\n                    modal.classList.add(\"tw-hidden\");\r\n                  }, 1000);\r\n                  isOpen = false;\r\n                }\r\n              });\r\n\r\n              // MAIN BUTTON AS CLOSE BUTTON FUNC\r\n              let mainBtn = document.querySelector(\".main-btn\");\r\n\r\n              if (content.buttonClose && mainBtn != null) {\r\n                mainBtn.addEventListener(\"click\", (e) => {\r\n                  e.preventDefault();\r\n                  modal.classList.add(\"ezy-style-modal--animate\");\r\n                  setTimeout(function () {\r\n                    modal.classList.add(\"tw-hidden\");\r\n                  }, 1000);\r\n                  isOpen = false;\r\n                });\r\n                mainBtn.addEventListener(\"keyup\", (e) => {\r\n                  if (e.keyCode === 13) {\r\n                    e.preventDefault();\r\n                    modal.classList.add(\"ezy-style-modal--animate\");\r\n                    setTimeout(function () {\r\n                      modal.classList.add(\"tw-hidden\");\r\n                    }, 1000);\r\n                    isOpen = false;\r\n                  }\r\n                });\r\n              }\r\n\r\n              modal.addEventListener(\"click\", function (e) {\r\n                if (e.target == this) {\r\n                  modal.classList.add(\"ezy-style-modal--animate\");\r\n                  setTimeout(function () {\r\n                    modal.classList.add(\"tw-hidden\");\r\n                  }, 1000);\r\n                }\r\n              });\r\n\r\n              trapFocus(modal);\r\n\r\n              if (\r\n                triggers.some((trigger) => {\r\n                  // exit intent\r\n                  return trigger.triggerType === \"scroll-depth\";\r\n                })\r\n              ) {\r\n                finishedScrolling = true;\r\n              }\r\n              document.removeEventListener(\"mouseout\", mouseEvent);\r\n            }\r\n          }\r\n          check();\r\n\r\n          // Cart catch\r\n          (function (ns, fetch) {\r\n            console.log(\"im an  iffee\");\r\n            if (typeof fetch !== \"function\") return;\r\n\r\n            ns.fetch = function () {\r\n              const response = fetch.apply(this, arguments);\r\n\r\n              response.then((res) => {\r\n                if (\r\n                  [\r\n                    `${window.location.origin}/cart/add.js`,\r\n                    `${window.location.origin}/cart/update.js`,\r\n                    `${window.location.origin}/cart/change.js`,\r\n                    `${window.location.origin}/cart/clear.js`,\r\n                  ].includes(res.url)\r\n                ) {\r\n                  res\r\n                    .clone()\r\n                    .json()\r\n                    .then((data) => {\r\n                      cartDataFetch = fetchCartInfo();\r\n                      cartDataFetch.then((cart) => {\r\n                        cartData = cart;\r\n                        check();\r\n                      });\r\n                    });\r\n                }\r\n              });\r\n\r\n              return response;\r\n            };\r\n          })(window, window.fetch);\r\n\r\n          // Cart catch XHR\r\n          const open = window.XMLHttpRequest.prototype.open;\r\n\r\n          function openReplacement() {\r\n            this.addEventListener(\"load\", function () {\r\n              if (\r\n                [\r\n                  \"/cart/add.js\",\r\n                  \"/cart/update.js\",\r\n                  \"/cart/change.js\",\r\n                  \"/cart/clear.js\",\r\n                ].includes(this._url)\r\n              ) {\r\n                updateCartInfo(this.response);\r\n              }\r\n            });\r\n            return open.apply(this, arguments);\r\n          }\r\n\r\n          window.XMLHttpRequest.prototype.open = openReplacement;\r\n\r\n          // cart check Fetch\r\n          (function (ns, fetch) {\r\n            if (typeof fetch !== \"function\") return;\r\n\r\n            ns.fetch = function () {\r\n              const response = fetch.apply(this, arguments);\r\n\r\n              response.then((res) => {\r\n                if (\r\n                  [\r\n                    `${window.location.origin}/cart/add.js`,\r\n                    `${window.location.origin}/cart/update.js`,\r\n                    `${window.location.origin}/cart/change.js`,\r\n                    `${window.location.origin}/cart/clear.js`,\r\n                  ].includes(res.url)\r\n                ) {\r\n                  res\r\n                    .clone()\r\n                    .json()\r\n                    .then((data) => console.log(data));\r\n                }\r\n              });\r\n\r\n              return response;\r\n            };\r\n          })(window, window.fetch);\r\n\r\n          // EXIT INTENT CHECK\r\n          const mouseEvent = (e) => {\r\n            const shouldShowExitIntent =\r\n              !e.toElement && !e.relatedTarget && e.clientY < 10;\r\n\r\n            if (shouldShowExitIntent) {\r\n              // document.removeEventListener(\"mouseout\", mouseEvent); not removing cuz we wanna check every time\r\n              // Handling delay here\r\n              // flip the exit switch\r\n              exit = true;\r\n              check();\r\n            }\r\n          };\r\n          if (\r\n            triggers.some((trigger) => {\r\n              // exit intent\r\n              return trigger.triggerType === \"exit-intent\";\r\n            })\r\n          ) {\r\n            document.addEventListener(\"mouseout\", mouseEvent);\r\n          }\r\n\r\n          // SCROLL DEPTH CHECK\r\n          const catchModal = () => {\r\n            scrollpos = window.scrollY;\r\n            let scrollObj = triggers.find(\r\n              (trigger) => trigger.triggerType === \"scroll-depth\"\r\n            );\r\n            if (!scrolled) {\r\n              if (scrollpos >= scrollObj.matchingInput) {\r\n                console.log(\"found\");\r\n                scrolled = true;\r\n                check();\r\n              }\r\n\r\n              console.log(\"catching\");\r\n            } else {\r\n              console.log(\"remove listener\");\r\n              document.removeEventListener(\"scroll\", catchModal);\r\n            }\r\n          };\r\n\r\n          if (\r\n            triggers.some((trigger) => {\r\n              // exit intent\r\n              return trigger.triggerType === \"scroll-depth\";\r\n            })\r\n          ) {\r\n            document.addEventListener(\"scroll\", catchModal);\r\n          }\r\n        };\r\n\r\n        // MATCH CONDITIONS -------------------------------------------------------------------\r\n        if (triggerMatch === \"all\") {\r\n          console.log(\"all triggers are matched\");\r\n          createModal(\"all\");\r\n        } else if (triggerMatch === \"any\") {\r\n          console.log(\"any triggers are matched\");\r\n          createModal(\"any\");\r\n        }\r\n      } else if (style.campaignType === \"full-screen\") {\r\n        console.log(\"this is something else\");\r\n      }\r\n    });\r\n  } catch (err) {\r\n    console.log(err);\r\n  }\r\n};\r\ncampaignInfo();\r\n","var OVERLAY_ID = '__parcel__error__overlay__';\n\nvar OldModule = module.bundle.Module;\n\nfunction Module(moduleName) {\n  OldModule.call(this, moduleName);\n  this.hot = {\n    data: module.bundle.hotData,\n    _acceptCallbacks: [],\n    _disposeCallbacks: [],\n    accept: function (fn) {\n      this._acceptCallbacks.push(fn || function () {});\n    },\n    dispose: function (fn) {\n      this._disposeCallbacks.push(fn);\n    }\n  };\n\n  module.bundle.hotData = null;\n}\n\nmodule.bundle.Module = Module;\nvar checkedAssets, assetsToAccept;\n\nvar parent = module.bundle.parent;\nif ((!parent || !parent.isParcelRequire) && typeof WebSocket !== 'undefined') {\n  var hostname = process.env.HMR_HOSTNAME || location.hostname;\n  var protocol = location.protocol === 'https:' ? 'wss' : 'ws';\n  var ws = new WebSocket(protocol + '://' + hostname + ':' + process.env.HMR_PORT + '/');\n  ws.onmessage = function(event) {\n    checkedAssets = {};\n    assetsToAccept = [];\n\n    var data = JSON.parse(event.data);\n\n    if (data.type === 'update') {\n      var handled = false;\n      data.assets.forEach(function(asset) {\n        if (!asset.isNew) {\n          var didAccept = hmrAcceptCheck(global.parcelRequire, asset.id);\n          if (didAccept) {\n            handled = true;\n          }\n        }\n      });\n\n      // Enable HMR for CSS by default.\n      handled = handled || data.assets.every(function(asset) {\n        return asset.type === 'css' && asset.generated.js;\n      });\n\n      if (handled) {\n        console.clear();\n\n        data.assets.forEach(function (asset) {\n          hmrApply(global.parcelRequire, asset);\n        });\n\n        assetsToAccept.forEach(function (v) {\n          hmrAcceptRun(v[0], v[1]);\n        });\n      } else if (location.reload) { // `location` global exists in a web worker context but lacks `.reload()` function.\n        location.reload();\n      }\n    }\n\n    if (data.type === 'reload') {\n      ws.close();\n      ws.onclose = function () {\n        location.reload();\n      }\n    }\n\n    if (data.type === 'error-resolved') {\n      console.log('[parcel] âœ¨ Error resolved');\n\n      removeErrorOverlay();\n    }\n\n    if (data.type === 'error') {\n      console.error('[parcel] ðŸš¨  ' + data.error.message + '\\n' + data.error.stack);\n\n      removeErrorOverlay();\n\n      var overlay = createErrorOverlay(data);\n      document.body.appendChild(overlay);\n    }\n  };\n}\n\nfunction removeErrorOverlay() {\n  var overlay = document.getElementById(OVERLAY_ID);\n  if (overlay) {\n    overlay.remove();\n  }\n}\n\nfunction createErrorOverlay(data) {\n  var overlay = document.createElement('div');\n  overlay.id = OVERLAY_ID;\n\n  // html encode message and stack trace\n  var message = document.createElement('div');\n  var stackTrace = document.createElement('pre');\n  message.innerText = data.error.message;\n  stackTrace.innerText = data.error.stack;\n\n  overlay.innerHTML = (\n    '<div style=\"background: black; font-size: 16px; color: white; position: fixed; height: 100%; width: 100%; top: 0px; left: 0px; padding: 30px; opacity: 0.85; font-family: Menlo, Consolas, monospace; z-index: 9999;\">' +\n      '<span style=\"background: red; padding: 2px 4px; border-radius: 2px;\">ERROR</span>' +\n      '<span style=\"top: 2px; margin-left: 5px; position: relative;\">ðŸš¨</span>' +\n      '<div style=\"font-size: 18px; font-weight: bold; margin-top: 20px;\">' + message.innerHTML + '</div>' +\n      '<pre>' + stackTrace.innerHTML + '</pre>' +\n    '</div>'\n  );\n\n  return overlay;\n\n}\n\nfunction getParents(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return [];\n  }\n\n  var parents = [];\n  var k, d, dep;\n\n  for (k in modules) {\n    for (d in modules[k][1]) {\n      dep = modules[k][1][d];\n      if (dep === id || (Array.isArray(dep) && dep[dep.length - 1] === id)) {\n        parents.push(k);\n      }\n    }\n  }\n\n  if (bundle.parent) {\n    parents = parents.concat(getParents(bundle.parent, id));\n  }\n\n  return parents;\n}\n\nfunction hmrApply(bundle, asset) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (modules[asset.id] || !bundle.parent) {\n    var fn = new Function('require', 'module', 'exports', asset.generated.js);\n    asset.isNew = !modules[asset.id];\n    modules[asset.id] = [fn, asset.deps];\n  } else if (bundle.parent) {\n    hmrApply(bundle.parent, asset);\n  }\n}\n\nfunction hmrAcceptCheck(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (!modules[id] && bundle.parent) {\n    return hmrAcceptCheck(bundle.parent, id);\n  }\n\n  if (checkedAssets[id]) {\n    return;\n  }\n  checkedAssets[id] = true;\n\n  var cached = bundle.cache[id];\n\n  assetsToAccept.push([bundle, id]);\n\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    return true;\n  }\n\n  return getParents(global.parcelRequire, id).some(function (id) {\n    return hmrAcceptCheck(global.parcelRequire, id)\n  });\n}\n\nfunction hmrAcceptRun(bundle, id) {\n  var cached = bundle.cache[id];\n  bundle.hotData = {};\n  if (cached) {\n    cached.hot.data = bundle.hotData;\n  }\n\n  if (cached && cached.hot && cached.hot._disposeCallbacks.length) {\n    cached.hot._disposeCallbacks.forEach(function (cb) {\n      cb(bundle.hotData);\n    });\n  }\n\n  delete bundle.cache[id];\n  bundle(id);\n\n  cached = bundle.cache[id];\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    cached.hot._acceptCallbacks.forEach(function (cb) {\n      cb();\n    });\n    return true;\n  }\n}\n"]}