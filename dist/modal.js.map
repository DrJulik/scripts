{"version":3,"sources":["modal.js","../../AppData/Roaming/npm/node_modules/parcel-bundler/src/builtins/hmr-runtime.js"],"names":["fetchCampaignInfo","fetch","method","headers","res","json","responseJson","data","ClassWatcher","targetNode","classToWatch","classAddedCallback","classRemovedCallback","mutationsList","mutation","type","attributeName","currentClassState","target","classList","contains","lastClassState","observer","init","MutationObserver","mutationCallback","observe","attributes","disconnect","campaignInfo","campData","forEach","campaign","console","log","freePlan","style","content","settings","_id","createdAt","name","borderColor","backgroundColor","primaryButtonColor","overlayColor","triggers","triggerMatch","body","document","querySelector","modal","createElement","notification","add","appendChild","link1","rel","href","head","initiateSettings","handleAutoClose","autoClose","setTimeout","remove","autoCloseTime","handleFrequency","id","frequency","localStorage","removeItem","timesShown","Date","prototype","addDays","days","date","valueOf","setDate","getDate","limitPeriod","parseInt","frequencyPeriod","creationDate","limitResetDate","today","getItem","setItem","count","frequencyTime","triggered","workOnClassAdd","workOnClassRemoval","classWatcher","createModal","condition","timerElapsed","exit","scrolled","finishedScrolling","checkCondition","trigger","triggerType","matchingFormat","urlTrigger","window","location","includes","matchingInput","cartData","item_count","total_price","matchingCartItems","items","find","item","title","undefined","trapFocus","element","focusableElements","firstFocusableElement","querySelectorAll","focusableContent","lastFocusableElement","length","addEventListener","e","isTabPressed","key","keyCode","shiftKey","activeElement","focus","preventDefault","check","conditionsMatched","every","some","timerObj","setContentTypes","closeBtn","isOpen","mainBtn","buttonClose","removeEventListener","mouseEvent","ns","response","apply","arguments","then","origin","url","clone","cartDataFetch","fetchCartInfo","cart","open","XMLHttpRequest","openReplacement","_url","updateCartInfo","shouldShowExitIntent","toElement","relatedTarget","clientY","catchModal","scrollpos","scrollY","scrollObj","campaignType","contentType","innerHTML","borderRadius","imgUrl","headline","buttonUrl","buttonText","success","cartProgress","cartGoalValue","remainder","cartGoalPrize","cartSuccessMessage","products","selectedProducts","selection","map","product","images","originalSrc","variants","price","variant","split","pop","availableForSale","ezy","productfeed","requestType","successCallback","errorCallback","Accept","JSON","stringify","catch","error","addVariant","variantID","quantity","callback","scrollHorizontally","direction","scroll","left","scrollLeft","behavior","toggleButton","button","disabled","disableButton","enableButton","scrollArrowButtons","getElementsByClassName","Array","from","scrollArrowButton","scrollContainerClass","getAttribute","scrollDirection","scrollContainers","scrollContainer","addVariantButtons","addVariantButton","variantId","showNotification","closingBehav","changeVariantSelects","changeVariantSelect","variantAvailability","options","selectedIndex","variantPrice","value","productItem","closest","setAttribute","event","Event","dispatchEvent","message","placement","OVERLAY_ID","OldModule","module","bundle","Module","moduleName","call","hot","hotData","_acceptCallbacks","_disposeCallbacks","accept","fn","push","dispose","checkedAssets","assetsToAccept","parent","isParcelRequire","WebSocket","hostname","protocol","ws","onmessage","parse","handled","assets","asset","isNew","didAccept","hmrAcceptCheck","global","parcelRequire","generated","js","clear","hmrApply","v","hmrAcceptRun","reload","close","onclose","removeErrorOverlay","stack","overlay","createErrorOverlay","getElementById","stackTrace","innerText","getParents","modules","parents","k","d","dep","isArray","concat","Function","deps","cached","cache","cb"],"mappings":"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","file":"modal.js","sourceRoot":"..","sourcesContent":["// const ezshop = window.location.href.split(\"https://\").pop().split(\"/\")[0];\r\n\r\nconst fetchCampaignInfo = async () => {\r\n  const res = await fetch(\r\n    `https://easypop.herokuapp.com/api/campaigns/freebiesdebug.myshopify.com`,\r\n    {\r\n      method: \"GET\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    }\r\n  );\r\n  const responseJson = await res.json();\r\n  return responseJson.data;\r\n};\r\n\r\n// const fetchCartInfo = async () => {\r\n//   const res = await fetch(`/cart.js`, {\r\n//     method: \"GET\",\r\n//     headers: {\r\n//       \"Content-Type\": \"application/json\",\r\n//     },\r\n//   });\r\n//   const responseJson = await res.json();\r\n//   return responseJson;\r\n// };\r\n\r\n// MUTATION OBSERVER TO WATCH FOR CLASS CHANGES\r\nclass ClassWatcher {\r\n  constructor(\r\n    targetNode,\r\n    classToWatch,\r\n    classAddedCallback,\r\n    classRemovedCallback\r\n  ) {\r\n    this.targetNode = targetNode;\r\n    this.classToWatch = classToWatch;\r\n    this.classAddedCallback = classAddedCallback;\r\n    this.classRemovedCallback = classRemovedCallback;\r\n    this.observer = null;\r\n    this.lastClassState = targetNode.classList.contains(this.classToWatch);\r\n\r\n    this.init();\r\n  }\r\n\r\n  init() {\r\n    this.observer = new MutationObserver(this.mutationCallback);\r\n    this.observe();\r\n  }\r\n\r\n  observe() {\r\n    this.observer.observe(this.targetNode, { attributes: true });\r\n  }\r\n\r\n  disconnect() {\r\n    this.observer.disconnect();\r\n  }\r\n\r\n  mutationCallback = (mutationsList) => {\r\n    for (let mutation of mutationsList) {\r\n      if (\r\n        mutation.type === \"attributes\" &&\r\n        mutation.attributeName === \"class\"\r\n      ) {\r\n        let currentClassState = mutation.target.classList.contains(\r\n          this.classToWatch\r\n        );\r\n        if (this.lastClassState !== currentClassState) {\r\n          this.lastClassState = currentClassState;\r\n          if (currentClassState) {\r\n            this.classAddedCallback();\r\n          } else {\r\n            this.classRemovedCallback();\r\n          }\r\n        }\r\n      }\r\n    }\r\n  };\r\n}\r\n\r\nconst campaignInfo = async () => {\r\n  try {\r\n    const campData = await fetchCampaignInfo();\r\n    // let cartData = await fetchCartInfo();\r\n    // console.log(cartData);\r\n\r\n    campData.forEach((campaign) => {\r\n      console.log(campaign);\r\n      const {\r\n        freePlan,\r\n        style,\r\n        content,\r\n        settings,\r\n        _id,\r\n        createdAt,\r\n        name,\r\n      } = campaign;\r\n      const {\r\n        borderColor,\r\n        backgroundColor,\r\n        primaryButtonColor,\r\n        overlayColor,\r\n      } = style;\r\n      const { triggers, triggerMatch } = settings;\r\n\r\n      // DOM hooks\r\n      const body = document.querySelector(\"body\");\r\n      const modal = document.createElement(\"section\");\r\n\r\n      // NOTIFICATION HTML, SEPARATE FROM THE MODAL\r\n      const notification = document.createElement(\"div\");\r\n      notification.classList.add(\"ezy\", \"ezy-notification\");\r\n      body.appendChild(notification);\r\n\r\n      // HOOKING UP OUR CSS\r\n      let link1 = document.createElement(\"link\");\r\n      link1.rel = \"stylesheet\";\r\n      link1.href =\r\n        \"https://cdn.jsdelivr.net/gh/DrJulik/scripts@1.0.947423/styles.min.css\";\r\n      document.head.appendChild(link1);\r\n\r\n      // INITIATE SETTINGS FUNCTIONS\r\n      const initiateSettings = () => {\r\n        // SETTINGS\r\n        // AUTO CLOSE\r\n        const handleAutoClose = () => {\r\n          console.log(\"we are auto-closed\");\r\n          if (settings.autoClose) {\r\n            setTimeout(() => {\r\n              modal.classList.remove(\"open\");\r\n              modal.classList.add(\"ezy-style-modal--animate\");\r\n              setTimeout(function () {\r\n                modal.classList.add(\"tw-hidden\");\r\n              }, 1000);\r\n            }, settings.autoCloseTime * 1000);\r\n          } else {\r\n            return;\r\n          }\r\n        };\r\n\r\n        // Frequency\r\n        const handleFrequency = (id) => {\r\n          console.log(\"we are handling frequency\");\r\n          // Check if they disabled frequency\r\n          if (!settings.frequency) {\r\n            localStorage.removeItem(`campaign_${id}`);\r\n            localStorage.removeItem(`limit_${id}`);\r\n          }\r\n\r\n          let timesShown = 1;\r\n\r\n          Date.prototype.addDays = function (days) {\r\n            let date = new Date(this.valueOf());\r\n            date.setDate(date.getDate() + days);\r\n            return date;\r\n          };\r\n\r\n          let limitPeriod = parseInt(settings.frequencyPeriod);\r\n          let creationDate = new Date(createdAt);\r\n          let limitResetDate = creationDate.addDays(limitPeriod);\r\n          let today = new Date();\r\n\r\n          if (limitResetDate <= today) {\r\n            localStorage.removeItem(`limit_${id}`);\r\n          }\r\n\r\n          if (settings.frequency) {\r\n            if (!localStorage.getItem(`campaign_${id}`)) {\r\n              localStorage.setItem(`campaign_${id}`, timesShown);\r\n              let count = localStorage.getItem(`campaign_${id}`);\r\n              if (\r\n                settings.frequency &&\r\n                parseInt(count) >= parseInt(settings.frequencyTime)\r\n              ) {\r\n                console.log(\"Limit is reached\");\r\n                localStorage.setItem(`limit_${id}`, true);\r\n              } else if (\r\n                settings.frequency &&\r\n                parseInt(count) < parseInt(settings.frequencyTime)\r\n              ) {\r\n                console.log(\"Limit not reached yet\");\r\n              } else {\r\n                console.log(\"Frequency is off\");\r\n              }\r\n            } else {\r\n              let count = localStorage.getItem(`campaign_${id}`);\r\n\r\n              if (!localStorage.getItem(`limit_${id}`)) {\r\n                count++;\r\n                localStorage.setItem(`campaign_${id}`, count);\r\n              } else {\r\n                return;\r\n              }\r\n\r\n              if (\r\n                settings.frequency &&\r\n                parseInt(count) >= parseInt(settings.frequencyTime)\r\n              ) {\r\n                console.log(\"Limit is reached\");\r\n                localStorage.setItem(`limit_${id}`, true);\r\n              } else if (\r\n                settings.frequency &&\r\n                parseInt(count) < parseInt(settings.frequencyTime)\r\n              ) {\r\n                console.log(\"Limit not reached yet\");\r\n              } else {\r\n                console.log(\"Frequency is off\");\r\n              }\r\n            }\r\n          } else {\r\n            return;\r\n          }\r\n        };\r\n\r\n        let triggered = false;\r\n        function workOnClassAdd() {\r\n          handleFrequency(_id);\r\n          handleAutoClose();\r\n\r\n          if (!triggered) {\r\n            triggered = true;\r\n          }\r\n        }\r\n\r\n        function workOnClassRemoval() {}\r\n\r\n        // watch for a specific class change\r\n        let classWatcher = new ClassWatcher(\r\n          modal,\r\n          \"open\",\r\n          workOnClassAdd,\r\n          workOnClassRemoval\r\n        );\r\n\r\n        const createModal = (condition) => {\r\n          // timer for time on page\r\n          let timerElapsed = false;\r\n\r\n          let exit = false;\r\n          let scrolled = false;\r\n          let finishedScrolling = false;\r\n\r\n          const checkCondition = (trigger) => {\r\n            if (trigger.triggerType === \"url\") {\r\n              if (trigger.matchingFormat === \"contains\") {\r\n                urlTrigger = window.location.href.includes(\r\n                  trigger.matchingInput\r\n                );\r\n                if (urlTrigger) {\r\n                  return trigger.triggerType === \"url\";\r\n                }\r\n              } else if (trigger.matchingFormat === \"matches\") {\r\n                urlTrigger = window.location.href === trigger.matchingInput;\r\n                if (urlTrigger) {\r\n                  return trigger.triggerType === \"url\";\r\n                }\r\n              }\r\n            } else if (trigger.triggerType === \"cart-size\") {\r\n              if (trigger.matchingFormat === \"greater\") {\r\n                if (cartData.item_count > trigger.matchingInput) {\r\n                  return trigger.triggerType === \"cart-size\";\r\n                }\r\n              } else if (trigger.matchingFormat === \"less\") {\r\n                if (cartData.item_count < trigger.matchingInput) {\r\n                  return trigger.triggerType === \"cart-size\";\r\n                }\r\n              }\r\n            } else if (trigger.triggerType === \"cart-value\") {\r\n              if (trigger.matchingFormat === \"greater\") {\r\n                if (cartData.total_price / 100 > trigger.matchingInput) {\r\n                  return trigger.triggerType === \"cart-value\";\r\n                }\r\n              } else if (trigger.matchingFormat === \"less\") {\r\n                if (cartData.total_price / 100 < trigger.matchingInput) {\r\n                  return trigger.triggerType === \"cart-value\";\r\n                }\r\n              }\r\n            } else if (trigger.triggerType === \"product-in-cart\") {\r\n              if (trigger.matchingFormat === \"contains\") {\r\n                let matchingCartItems = cartData.items.find((item) =>\r\n                  item.title.includes(trigger.matchingInput)\r\n                );\r\n                if (matchingCartItems != undefined) {\r\n                  return trigger.triggerType === \"product-in-cart\";\r\n                }\r\n              } else if (trigger.matchingFormat === \"matches\") {\r\n                let matchingCartItems = cartData.items.find(\r\n                  (item) => item.title === trigger.matchingInput\r\n                );\r\n                if (matchingCartItems != undefined) {\r\n                  return trigger.triggerType === \"product-in-cart\";\r\n                }\r\n              }\r\n            } else if (scrolled) {\r\n              return trigger.triggerType === \"scroll-depth\";\r\n            } else if (trigger.triggerType === \"time-on-page\") {\r\n              if (timerElapsed) {\r\n                return trigger.triggerType === \"time-on-page\";\r\n              }\r\n            } else if (trigger.triggerType === \"exit-intent\") {\r\n              if (exit) {\r\n                return trigger.triggerType === \"exit-intent\";\r\n              }\r\n            }\r\n          };\r\n\r\n          const trapFocus = (element) => {\r\n            const modal = element;\r\n            const focusableElements =\r\n              'a[href]:not([disabled]), button:not([disabled]), textarea:not([disabled]), input[type=\"text\"]:not([disabled]), input[type=\"radio\"]:not([disabled]), input[type=\"checkbox\"]:not([disabled]), select:not([disabled])';\r\n            const firstFocusableElement = modal.querySelectorAll(\r\n              focusableElements\r\n            )[0];\r\n            const focusableContent = modal.querySelectorAll(focusableElements);\r\n            const lastFocusableElement =\r\n              focusableContent[focusableContent.length - 1];\r\n\r\n            document.addEventListener(\"keydown\", function (e) {\r\n              let isTabPressed = e.key === \"Tab\" || e.keyCode === 9;\r\n\r\n              if (!isTabPressed) {\r\n                return;\r\n              }\r\n\r\n              // if shift key pressed for shift + tab combination\r\n              if (e.shiftKey) {\r\n                if (document.activeElement === firstFocusableElement) {\r\n                  lastFocusableElement.focus();\r\n                  e.preventDefault();\r\n                }\r\n              }\r\n\r\n              // if tab key is pressed\r\n              else {\r\n                if (document.activeElement === lastFocusableElement) {\r\n                  firstFocusableElement.focus();\r\n                  e.preventDefault();\r\n                }\r\n              }\r\n            });\r\n          };\r\n\r\n          // CHECK FUNCTION\r\n          function check() {\r\n            console.log(\"checked\");\r\n\r\n            let conditionsMatched;\r\n            if (condition === \"all\") {\r\n              conditionsMatched = triggers.every(checkCondition);\r\n            } else if (condition === \"any\") {\r\n              conditionsMatched = triggers.some(checkCondition);\r\n            }\r\n\r\n            let timerObj = triggers.find(\r\n              (trigger) => trigger.triggerType === \"time-on-page\"\r\n            );\r\n            if (!timerElapsed) {\r\n              setTimeout(\r\n                () => {\r\n                  timerElapsed = true;\r\n                  check();\r\n                },\r\n                timerObj ? timerObj.matchingInput * 1000 : null\r\n              );\r\n            }\r\n\r\n            if (\r\n              conditionsMatched &&\r\n              !finishedScrolling &&\r\n              !triggered &&\r\n              !localStorage.getItem(`limit_${_id}`)\r\n            ) {\r\n              console.log(\"conditions matched\");\r\n              // CONTENT TYPES\r\n              setContentTypes();\r\n              modal.classList.add(\"open\");\r\n              modal.classList.add(\"ezy-style-modal--animate\");\r\n              setTimeout(function () {\r\n                modal.classList.remove(\"ezy-style-modal--animate\");\r\n              }, 100);\r\n\r\n              let closeBtn = document.querySelector(\".closeBtn\");\r\n              closeBtn.addEventListener(\"click\", (e) => {\r\n                modal.classList.add(\"ezy-style-modal--animate\");\r\n                setTimeout(function () {\r\n                  modal.classList.add(\"tw-hidden\");\r\n                }, 1000);\r\n                isOpen = false;\r\n              });\r\n              closeBtn.addEventListener(\"keyup\", (e) => {\r\n                if (e.keyCode === 13) {\r\n                  e.preventDefault();\r\n                  modal.classList.add(\"ezy-style-modal--animate\");\r\n                  setTimeout(function () {\r\n                    modal.classList.add(\"tw-hidden\");\r\n                  }, 1000);\r\n                  isOpen = false;\r\n                }\r\n              });\r\n\r\n              // MAIN BUTTON AS CLOSE BUTTON FUNC\r\n              let mainBtn = document.querySelector(\".main-btn\");\r\n\r\n              if (content.buttonClose && mainBtn != null) {\r\n                mainBtn.addEventListener(\"click\", (e) => {\r\n                  e.preventDefault();\r\n                  modal.classList.add(\"ezy-style-modal--animate\");\r\n                  setTimeout(function () {\r\n                    modal.classList.add(\"tw-hidden\");\r\n                  }, 1000);\r\n                  isOpen = false;\r\n                });\r\n                mainBtn.addEventListener(\"keyup\", (e) => {\r\n                  if (e.keyCode === 13) {\r\n                    e.preventDefault();\r\n                    modal.classList.add(\"ezy-style-modal--animate\");\r\n                    setTimeout(function () {\r\n                      modal.classList.add(\"tw-hidden\");\r\n                    }, 1000);\r\n                    isOpen = false;\r\n                  }\r\n                });\r\n              }\r\n\r\n              modal.addEventListener(\"click\", function (e) {\r\n                if (e.target == this) {\r\n                  modal.classList.add(\"ezy-style-modal--animate\");\r\n                  setTimeout(function () {\r\n                    modal.classList.add(\"tw-hidden\");\r\n                  }, 1000);\r\n                }\r\n              });\r\n\r\n              trapFocus(modal);\r\n\r\n              if (\r\n                triggers.some((trigger) => {\r\n                  // exit intent\r\n                  return trigger.triggerType === \"scroll-depth\";\r\n                })\r\n              ) {\r\n                finishedScrolling = true;\r\n              }\r\n              document.removeEventListener(\"mouseout\", mouseEvent);\r\n            }\r\n          }\r\n          check();\r\n\r\n          // Cart catch\r\n          (function (ns, fetch) {\r\n            console.log(\"im an  iffee\");\r\n            if (typeof fetch !== \"function\") return;\r\n\r\n            ns.fetch = function () {\r\n              const response = fetch.apply(this, arguments);\r\n\r\n              response.then((res) => {\r\n                if (\r\n                  [\r\n                    `${window.location.origin}/cart/add.js`,\r\n                    `${window.location.origin}/cart/update.js`,\r\n                    `${window.location.origin}/cart/change.js`,\r\n                    `${window.location.origin}/cart/clear.js`,\r\n                  ].includes(res.url)\r\n                ) {\r\n                  res\r\n                    .clone()\r\n                    .json()\r\n                    .then((data) => {\r\n                      cartDataFetch = fetchCartInfo();\r\n                      cartDataFetch.then((cart) => {\r\n                        cartData = cart;\r\n                        check();\r\n                      });\r\n                    });\r\n                }\r\n              });\r\n\r\n              return response;\r\n            };\r\n          })(window, window.fetch);\r\n\r\n          // Cart catch XHR\r\n          const open = window.XMLHttpRequest.prototype.open;\r\n\r\n          function openReplacement() {\r\n            this.addEventListener(\"load\", function () {\r\n              if (\r\n                [\r\n                  \"/cart/add.js\",\r\n                  \"/cart/update.js\",\r\n                  \"/cart/change.js\",\r\n                  \"/cart/clear.js\",\r\n                ].includes(this._url)\r\n              ) {\r\n                updateCartInfo(this.response);\r\n              }\r\n            });\r\n            return open.apply(this, arguments);\r\n          }\r\n\r\n          window.XMLHttpRequest.prototype.open = openReplacement;\r\n\r\n          // cart check Fetch\r\n          (function (ns, fetch) {\r\n            if (typeof fetch !== \"function\") return;\r\n\r\n            ns.fetch = function () {\r\n              const response = fetch.apply(this, arguments);\r\n\r\n              response.then((res) => {\r\n                if (\r\n                  [\r\n                    `${window.location.origin}/cart/add.js`,\r\n                    `${window.location.origin}/cart/update.js`,\r\n                    `${window.location.origin}/cart/change.js`,\r\n                    `${window.location.origin}/cart/clear.js`,\r\n                  ].includes(res.url)\r\n                ) {\r\n                  res\r\n                    .clone()\r\n                    .json()\r\n                    .then((data) => console.log(data));\r\n                }\r\n              });\r\n\r\n              return response;\r\n            };\r\n          })(window, window.fetch);\r\n\r\n          // EXIT INTENT CHECK\r\n          const mouseEvent = (e) => {\r\n            const shouldShowExitIntent =\r\n              !e.toElement && !e.relatedTarget && e.clientY < 10;\r\n\r\n            if (shouldShowExitIntent) {\r\n              // document.removeEventListener(\"mouseout\", mouseEvent); not removing cuz we wanna check every time\r\n              // Handling delay here\r\n              // flip the exit switch\r\n              exit = true;\r\n              check();\r\n            }\r\n          };\r\n          if (\r\n            triggers.some((trigger) => {\r\n              // exit intent\r\n              return trigger.triggerType === \"exit-intent\";\r\n            })\r\n          ) {\r\n            document.addEventListener(\"mouseout\", mouseEvent);\r\n          }\r\n\r\n          // SCROLL DEPTH CHECK\r\n          const catchModal = () => {\r\n            scrollpos = window.scrollY;\r\n            let scrollObj = triggers.find(\r\n              (trigger) => trigger.triggerType === \"scroll-depth\"\r\n            );\r\n            if (!scrolled) {\r\n              if (scrollpos >= scrollObj.matchingInput) {\r\n                console.log(\"found\");\r\n                scrolled = true;\r\n                check();\r\n              }\r\n\r\n              console.log(\"catching\");\r\n            } else {\r\n              console.log(\"remove listener\");\r\n              document.removeEventListener(\"scroll\", catchModal);\r\n            }\r\n          };\r\n\r\n          if (\r\n            triggers.some((trigger) => {\r\n              // exit intent\r\n              return trigger.triggerType === \"scroll-depth\";\r\n            })\r\n          ) {\r\n            document.addEventListener(\"scroll\", catchModal);\r\n          }\r\n        };\r\n\r\n        // MATCH CONDITIONS -------------------------------------------------------------------\r\n        if (triggerMatch === \"all\") {\r\n          console.log(\"all triggers are matched\");\r\n          createModal(\"all\");\r\n        } else if (triggerMatch === \"any\") {\r\n          console.log(\"any triggers are matched\");\r\n          createModal(\"any\");\r\n        }\r\n      };\r\n\r\n      // I GUESS THIS IS WHERE WE BUILD THE CAMPAIGNS\r\n      if (style.campaignType === \"modal\") {\r\n        // classes for the outermost shell\r\n        modal.classList.add(\"ezy\", \"ezy-style-modal\");\r\n\r\n        // SET CONTENT TYPES\r\n        function setContentTypes() {\r\n          // tw-hidden inside section\r\n          if (content.contentType === \"text-image\") {\r\n            modal.innerHTML = `\r\n            <!-- TEMPLATE STARTS -->\r\n\r\n  <section class=\"ezy-style-modal__window\">\r\n    <section class=\"ezy-style-modal__close\">\r\n      <a href=\"#\" class=\"closeBtn\" title=\"Close popup modal\"\">\r\n        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"feather feather-x ezy-btn--round--clear\"><line x1=\"18\" y1=\"6\" x2=\"6\" y2=\"18\"></line><line x1=\"6\" y1=\"6\" x2=\"18\" y2=\"18\"></line></svg>\r\n      </a>\r\n    </section>\r\n    <section class=\"ezy-style-modal__content\"\r\n      style=\"\r\n        background-color:${style.backgroundColor};\r\n        border-radius:${style.borderRadius}px\">\r\n\r\n      <section>\r\n        \r\n<!-- CONTENT -->\r\n<section>\r\n  <div class=\"tw-flex tw-flex-row tw-flex-wrap tw-justify-center\">\r\n    <!-- ##IF IMAGE## -->\r\n    ${\r\n      content.imgUrl !== \"\"\r\n        ? `<div class=\"tw-w-full sm:tw-w-1/2\"> \r\n      <div>\r\n        <img class=\"ezy-style-modal__content__image\" src=\"${content.imgUrl}\"/>\r\n      </div>\r\n    </div>`\r\n        : \"\"\r\n    }\r\n   \r\n    <!-- ##ENDIF## -->\r\n    <div class=\"tw-w-full sm:tw-w-1/2 tw-max-w-prose tw-flex tw-flex-grow tw-justify-center tw-items-center tw-p-4 tw-md:p-8\">\r\n      <div>\r\n        <h3 class=\"ezy-type__headline--bold-1 tw-mb-2\">${content.headline}</h3>\r\n        <p class=\"tw-mb-4\">\r\n        ${content.body}\r\n        </p>\r\n        <a class=\"main-btn ezy-btn tw-w-full\" href=\"${content.buttonUrl}\"\r\n          style=\"\r\n            background-color:${style.primaryButtonColor};\r\n            border-radius:${style.borderRadius}px\">${content.buttonText}</a>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</section>\r\n<!-- END CONTENT -->\r\n\r\n\r\n      </section>\r\n\r\n    </section>\r\n  </section>\r\n  <a href=\"https://brickspacelab.com/\" target=\"_blank\" class=\"ezy-tooltip ezy-tooltip--inverted tw-absolute tw-bottom-2 tw-left-2\r\n    ##IF PAID_PLAN##tw-hidden##ENDIF##\">\r\n    ${\r\n      freePlan\r\n        ? `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"feather feather-info\"><circle cx=\"12\" cy=\"12\" r=\"10\"></circle><line x1=\"12\" y1=\"16\" x2=\"12\" y2=\"12\"></line><line x1=\"12\" y1=\"8\" x2=\"12.01\" y2=\"8\"></line></svg>\r\n    <span>Powered by Easypop</span>`\r\n        : \"\"\r\n    }\r\n    \r\n  </a>\r\n\r\n            `;\r\n\r\n            body.appendChild(modal);\r\n          } else if (content.contentType === \"newsletter\") {\r\n            let success;\r\n            let url = window.location.href;\r\n            if (url.includes(\"?customer_posted=true\")) {\r\n              success = \"yes\";\r\n            } else if (\r\n              url.includes(\r\n                \"t?contact%5Btags%5D=prospect%2Cnewsletter&form_type=customer\"\r\n              )\r\n            ) {\r\n              success = \"no\";\r\n            }\r\n\r\n            modal.innerHTML = `\r\n            <section class=\"ezy-style-modal__window\">\r\n              <section class=\"ezy-style-modal__close\">\r\n                <a href=\"#\" class=\"closeBtn\" title=\"Close popup modal\">\r\n                  <svg\r\n                    xmlns=\"http://www.w3.org/2000/svg\"\r\n                    width=\"24\"\r\n                    height=\"24\"\r\n                    viewBox=\"0 0 24 24\"\r\n                    fill=\"none\"\r\n                    stroke=\"currentColor\"\r\n                    stroke-width=\"2\"\r\n                    stroke-linecap=\"round\"\r\n                    stroke-linejoin=\"round\"\r\n                    class=\"feather feather-x ezy-btn--round--clear\"\r\n                  >\r\n                    <line x1=\"18\" y1=\"6\" x2=\"6\" y2=\"18\"></line>\r\n                    <line x1=\"6\" y1=\"6\" x2=\"18\" y2=\"18\"></line>\r\n                  </svg>\r\n                </a>\r\n              </section>\r\n              <section\r\n                class=\"ezy-style-modal__content\"\r\n                style=\"\r\n                  background-color: ${backgroundColor};\r\n                  border-radius: ${style.borderRadius}px;\r\n                \"\r\n              >\r\n              <section>\r\n              <div class=\"tw-flex tw-flex-row tw-flex-wrap tw-justify-center\">\r\n                <!-- ##IF IMAGE## -->\r\n                ${\r\n                  content.imgUrl !== \"\"\r\n                    ? `\r\n                <div class=\"tw-w-full sm:tw-w-1/2\">\r\n                  <div>\r\n                    <img class=\"ezy-style-modal__content__image\" src=\"${content.imgUrl}\" />\r\n                  </div>\r\n                </div>\r\n                <!-- ##ENDIF## -->`\r\n                    : \"\"\r\n                }\r\n            \r\n                <div\r\n                  class=\"tw-w-full sm:tw-w-1/2 tw-max-w-prose tw-flex tw-flex-grow tw-justify-center tw-items-center tw-p-4 tw-md:p-8\"\r\n                >\r\n                  <div>\r\n                    <h3 class=\"ezy-type__headline--bold-1 tw-mb-2\">\r\n                      ${content.headline}\r\n                    </h3>\r\n                    <p class=\"tw-mb-4\">${content.body}</p>\r\n                    <form\r\n                      method=\"post\"\r\n                      action=\"/contact#contact_form\"\r\n                      id=\"contact_form\"\r\n                      accept-charset=\"UTF-8\"\r\n                      class=\"contact-form\"\r\n                    >\r\n                      <input type=\"hidden\" name=\"form_type\" value=\"customer\" /><input\r\n                        type=\"hidden\"\r\n                        name=\"utf8\"\r\n                        value=\"✓\"\r\n                      />\r\n                      <input\r\n                        id=\"contact_tags\"\r\n                        name=\"contact[tags]\"\r\n                        type=\"hidden\"\r\n                        value=\"prospect,newsletter\"\r\n                      />\r\n            \r\n                      <input\r\n                        class=\"tw-mb-2\"\r\n                        id=\"contact_email\"\r\n                        name=\"contact[email]\"\r\n                        type=\"email\"\r\n                      />\r\n            \r\n                      <input\r\n                        style=\"\r\n            background-color: ${primaryButtonColor};\r\n            border-radius: ${style.borderRadius}px;\r\n            \"\r\n                        class=\"ezy-btn tw-w-full\"\r\n                        type=\"submit\"\r\n                        value=\"${content.buttonText}\"\r\n                      />\r\n                      ${\r\n                        success === \"yes\"\r\n                          ? `\r\n                      <h3 style=\"color: green\">Thank you for signing up!</h3>\r\n                      `\r\n                          : \"\"\r\n                      } ${\r\n              success === \"no\"\r\n                ? `\r\n                      <h3 style=\"color: red\">Please input a valid email!</h3>\r\n                      `\r\n                : \"\"\r\n            }\r\n                    </form>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </section>`;\r\n            body.appendChild(modal);\r\n          } else if (content.contentType === \"cart-progress-bar\") {\r\n            // for local testing\r\n            // let cartData = {\r\n            //   total_price: 49900,\r\n            // };\r\n            let cartProgress;\r\n            if (cartData.total_price === 0) {\r\n              cartProgress = 0;\r\n            } else {\r\n              cartProgress =\r\n                (cartData.total_price / 100 / content.cartGoalValue) * 100;\r\n            }\r\n\r\n            let remainder = cartData.total_price / 100 - content.cartGoalValue;\r\n\r\n            modal.innerHTML = `\r\n            <section class=\"ezy-style-modal__window\">\r\n              <section class=\"ezy-style-modal__close\">\r\n                <a href=\"#\" class=\"closeBtn\" title=\"Close popup modal\">\r\n                  <svg\r\n                    xmlns=\"http://www.w3.org/2000/svg\"\r\n                    width=\"24\"\r\n                    height=\"24\"\r\n                    viewBox=\"0 0 24 24\"\r\n                    fill=\"none\"\r\n                    stroke=\"currentColor\"\r\n                    stroke-width=\"2\"\r\n                    stroke-linecap=\"round\"\r\n                    stroke-linejoin=\"round\"\r\n                    class=\"feather feather-x ezy-btn--round--clear\"\r\n                  >\r\n                    <line x1=\"18\" y1=\"6\" x2=\"6\" y2=\"18\"></line>\r\n                    <line x1=\"6\" y1=\"6\" x2=\"18\" y2=\"18\"></line>\r\n                  </svg>\r\n                </a>\r\n              </section>\r\n              <section\r\n                class=\"ezy-style-modal__content\"\r\n                style=\"\r\n                  background-color: ${backgroundColor};\r\n                  border-radius: ${style.borderRadius}px;\r\n                \"\r\n              >\r\n                <!-- CONTENT -->\r\n                <section>\r\n                  <div class=\"tw-flex tw-flex-row tw-flex-wrap tw-justify-center\">\r\n                    <div\r\n                      class=\"tw-w-full sm:tw-w-1/2 tw-max-w-prose tw-flex tw-flex-grow tw-justify-center tw-items-center\"\r\n                    >\r\n                      <div>\r\n                        <section class=\"tw-border-b tw-border-gray-200 tw-p-4\">\r\n                          <p class=\"tw-mb-1\">\r\n                          ${\r\n                            remainder < 0\r\n                              ? `You're $${-remainder} away from ${\r\n                                  content.cartGoalPrize\r\n                                }.`\r\n                              : `${content.cartSuccessMessage}`\r\n                          }\r\n                          </p>\r\n                          <div\r\n                            class=\"ezy-progressbar\"\r\n                            style=\"\r\n                              \r\n                              border-radius: ${style.borderRadius}px;\r\n                            \"\r\n                          >\r\n                            <div class=\"ezy-progressbar__inner\" style=\"width: ${cartProgress}%; background-color: ${primaryButtonColor};\"></div>\r\n                          </div>\r\n                        </section>\r\n          \r\n                        <section class=\"tw-p-4 tw-md:p-8\">\r\n                          <h3 class=\"ezy-type__headline--bold-1 tw-mb-2\">\r\n                            ${content.headline}\r\n                          </h3>\r\n                          <p class=\"tw-mb-4\">\r\n                            ${content.body}\r\n                          </p>\r\n          \r\n                          <a\r\n                            class=\"main-btn ezy-btn tw-w-full\"\r\n                            href=\"${content.buttonUrl}\"\r\n                            style=\"\r\n                              background-color: ${style.primaryButtonColor};\r\n                              border-radius: ${style.borderRadius}px;\r\n                            \"\r\n                          >\r\n                            ${content.buttonText}\r\n                          </a>\r\n                        </section>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </section>\r\n                <!-- END CONTENT -->\r\n              </section>\r\n            </section>\r\n            ${\r\n              freePlan\r\n                ? `<a\r\n            href=\"https://brickspacelab.com/\"\r\n            target=\"_blank\"\r\n            class=\"ezy-tooltip ezy-tooltip--inverted tw-absolute tw-bottom-2 tw-left-2\"\r\n          >\r\n            <svg\r\n              xmlns=\"http://www.w3.org/2000/svg\"\r\n              width=\"24\"\r\n              height=\"24\"\r\n              viewBox=\"0 0 24 24\"\r\n              fill=\"none\"\r\n              stroke=\"currentColor\"\r\n              stroke-width=\"2\"\r\n              stroke-linecap=\"round\"\r\n              stroke-linejoin=\"round\"\r\n              class=\"feather feather-info\"\r\n            >\r\n              <circle cx=\"12\" cy=\"12\" r=\"10\"></circle>\r\n              <line x1=\"12\" y1=\"16\" x2=\"12\" y2=\"12\"></line>\r\n              <line x1=\"12\" y1=\"8\" x2=\"12.01\" y2=\"8\"></line>\r\n            </svg>\r\n            <span>Powered by Easypop</span>\r\n          </a>`\r\n                : ``\r\n            }\r\n            \r\n          \r\n          `;\r\n            body.appendChild(modal);\r\n          } else if (content.contentType === \"product-feed\") {\r\n            const products = content.selectedProducts[0].selection;\r\n            modal.innerHTML = `\r\n            \r\n            <!-- TEMPLATE STARTS -->\r\n  <section class=\"ezy-style-modal__window\">\r\n    <section class=\"ezy-style-modal__close\">\r\n      <a href=\"#\" class=\"closeBtn\" title=\"Close popup modal\"\">\r\n        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"feather feather-x ezy-btn--round--clear\"><line x1=\"18\" y1=\"6\" x2=\"6\" y2=\"18\"></line><line x1=\"6\" y1=\"6\" x2=\"18\" y2=\"18\"></line></svg>\r\n      </a>\r\n    </section>\r\n    <section class=\"ezy-style-modal__content\"\r\n      style=\"\r\n        background-color:${style.backgroundColor};\r\n        border-radius:${style.borderRadius}\">\r\n      <section>\r\n        <!-- CONTENT -->\r\n<div class=\"tw-flex tw-flex-row tw-flex-wrap\">\r\n  <div class=\"tw-w-full sm:tw-w-full tw-flex tw-justify-center tw-items-center\">\r\n    <div class=\"tw-overflow-hidden\">\r\n      <div class=\"tw-p-4 tw-max-w-prose\">\r\n        <h3 class=\"ezy-type__headline--bold-1\">${content.headline}</h3>\r\n        <p>\r\n        ${content.body}\r\n        </p>\r\n      </div>\r\n      <div class=\"ezy-type-productfeed__arrows\">\r\n        <div class=\"ezy-type-productfeed__back\">\r\n          <button class=\"js:ezy-scrollArrowButtons\" data-scroll-direction=\"0\" data-scroll-container=\"ezy-type-productfeed\">\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"feather feather-arrow-left ezy-btn--round\"><line x1=\"19\" y1=\"12\" x2=\"5\" y2=\"12\"></line><polyline points=\"12 19 5 12 12 5\"></polyline></svg>\r\n          </button>\r\n        </div>\r\n        <div class=\"ezy-type-productfeed__next\">\r\n          <button class=\"js:ezy-scrollArrowButtons\" data-scroll-direction=\"1\" data-scroll-container=\"ezy-type-productfeed\">\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"feather feather-arrow-right ezy-btn--round\"><line x1=\"5\" y1=\"12\" x2=\"19\" y2=\"12\"></line><polyline points=\"12 5 19 12 12 19\"></polyline></svg>\r\n          </button>\r\n        </div>\r\n      </div>\r\n      <div class=\"ezy-type-productfeed\">\r\n        ${products.map((product) => {\r\n          return `\r\n          <div class=\"ezy-type-productfeed__item\">\r\n          <img class=\"image--square\" src=${product.images[0].originalSrc}/>\r\n          <div class=\"tw-px-2 tw-py-4\">\r\n            <p>${product.title}</p>\r\n            <p class=\"tw-pb-2\">$<span class=\"tw-pb-2 js:ezy-productPrice\">${\r\n              product.variants[0].price\r\n            }</span></p>\r\n            <select id=\"id\" name=\"id\" class=\"ezy-select tw-mb-2 js:ezy-changeVariantSelects\">\r\n              ${product.variants.map((variant) => {\r\n                return `<option value=\"${\r\n                  variant.id\r\n                    .split(\"gid://shopify/ProductVariant/\")\r\n                    .pop()\r\n                    .split(\"/\")[0]\r\n                }\" data-variant-availability=\"${\r\n                  variant.availableForSale\r\n                }\" data-variant-price=\"${variant.price}\">${\r\n                  variant.title\r\n                }</option>`;\r\n              })}\r\n            </select>\r\n            <button class=\"ezy-btn js:ezy-addVariantButtons tw-w-full\" style=\"background-color:${\r\n              style.primaryButtonColor\r\n            }\" data-variant-id=\"${product.variants[0].price}\">\r\n              <span class=\"ezy-btn__text\">\r\n                Add to cart\r\n              </span>\r\n              <span class=\"ezy-btn__spinner\">\r\n                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"feather feather-loader\"><line x1=\"12\" y1=\"2\" x2=\"12\" y2=\"6\"></line><line x1=\"12\" y1=\"18\" x2=\"12\" y2=\"22\"></line><line x1=\"4.93\" y1=\"4.93\" x2=\"7.76\" y2=\"7.76\"></line><line x1=\"16.24\" y1=\"16.24\" x2=\"19.07\" y2=\"19.07\"></line><line x1=\"2\" y1=\"12\" x2=\"6\" y2=\"12\"></line><line x1=\"18\" y1=\"12\" x2=\"22\" y2=\"12\"></line><line x1=\"4.93\" y1=\"19.07\" x2=\"7.76\" y2=\"16.24\"></line><line x1=\"16.24\" y1=\"7.76\" x2=\"19.07\" y2=\"4.93\"></line></svg>\r\n              </button>\r\n            </a>\r\n          </div>\r\n        </div>`;\r\n        })}\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n</section>\r\n\r\n    </section>\r\n  </section>\r\n  <a href=\"https://brickspacelab.com/\" target=\"_blank\" class=\"ezy-tooltip ezy-tooltip--inverted tw-absolute tw-bottom-2 tw-left-2\r\n    ##IF PAID_PLAN##tw-hidden##ENDIF##\">\r\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"feather feather-info\"><circle cx=\"12\" cy=\"12\" r=\"10\"></circle><line x1=\"12\" y1=\"16\" x2=\"12\" y2=\"12\"></line><line x1=\"12\" y1=\"8\" x2=\"12.01\" y2=\"8\"></line></svg>\r\n    <span>Powered by Easypop</span>\r\n  </a>\r\n</section>`;\r\n\r\n            body.appendChild(modal);\r\n            var ezy = ezy || {};\r\n            ezy.productfeed = {\r\n              // simple fetch call\r\n              fetch: function (\r\n                requestType,\r\n                url,\r\n                data,\r\n                contentType,\r\n                successCallback,\r\n                errorCallback\r\n              ) {\r\n                fetch(url, {\r\n                  method: requestType,\r\n                  headers: {\r\n                    \"Content-Type\": contentType,\r\n                    Accept: contentType,\r\n                    \"X-Requested-With\": \"xmlhttprequest\",\r\n                  },\r\n                  body: JSON.stringify(data),\r\n                })\r\n                  .then((response) => response.json())\r\n                  .then((data) => {\r\n                    successCallback(data);\r\n                  })\r\n                  .catch((error) => {\r\n                    errorCallback(error);\r\n                  });\r\n              },\r\n\r\n              // initilize product feed\r\n              init: function () {\r\n                // add variant to cart\r\n                function addVariant(variantID, quantity, callback) {\r\n                  let data = {\r\n                    items: [\r\n                      {\r\n                        id: variantID,\r\n                        quantity: quantity,\r\n                      },\r\n                    ],\r\n                  };\r\n                  ezy.productfeed.fetch(\r\n                    \"POST\",\r\n                    \"/cart/add.js\",\r\n                    data,\r\n                    \"application/json; charset=utf-8\",\r\n\r\n                    // success\r\n                    function (data) {\r\n                      console.log(data);\r\n                      if (typeof callback === \"function\" && callback()) {\r\n                        window.setTimeout(function () {\r\n                          callback();\r\n                        }, 500);\r\n                      }\r\n                    },\r\n\r\n                    // error\r\n                    function (error) {\r\n                      if (typeof callback === \"function\" && callback()) {\r\n                        window.setTimeout(function () {\r\n                          callback();\r\n                        }, 500);\r\n                      }\r\n                    }\r\n                  );\r\n                }\r\n\r\n                // scroll container horizontally\r\n                function scrollHorizontally(element, direction) {\r\n                  if (direction == 0) {\r\n                    element.scroll({\r\n                      left: element.scrollLeft - 350,\r\n                      behavior: \"smooth\",\r\n                    });\r\n                  } else {\r\n                    element.scroll({\r\n                      left: element.scrollLeft + 350,\r\n                      behavior: \"smooth\",\r\n                    });\r\n                  }\r\n                }\r\n\r\n                // toggle loading state of button\r\n                function toggleButton(button) {\r\n                  if (button.classList.contains(\"ezy-btn--loading\")) {\r\n                    button.classList.remove(\"ezy-btn--loading\");\r\n                    button.disabled = false;\r\n                  } else {\r\n                    button.classList.add(\"ezy-btn--loading\");\r\n                    button.disabled = true;\r\n                  }\r\n                }\r\n\r\n                // add disabled state to button\r\n                function disableButton(button) {\r\n                  button.classList.add(\"ezy-btn--disabled\");\r\n                  button.disabled = true;\r\n                }\r\n\r\n                // add enabled state to button\r\n                function enableButton(button) {\r\n                  button.classList.remove(\"ezy-btn--disabled\");\r\n                  button.disabled = false;\r\n                }\r\n\r\n                // listen for click on scroll arrows\r\n                var scrollArrowButtons = document.getElementsByClassName(\r\n                  \"js:ezy-scrollArrowButtons\"\r\n                );\r\n                Array.from(scrollArrowButtons).forEach(function (\r\n                  scrollArrowButton\r\n                ) {\r\n                  scrollArrowButton.addEventListener(\"click\", function (e) {\r\n                    let scrollContainerClass = this.getAttribute(\r\n                      \"data-scroll-container\"\r\n                    );\r\n                    let scrollDirection = this.getAttribute(\r\n                      \"data-scroll-direction\"\r\n                    );\r\n                    var scrollContainers = document.getElementsByClassName(\r\n                      scrollContainerClass\r\n                    );\r\n                    Array.from(scrollContainers).forEach(function (\r\n                      scrollContainer\r\n                    ) {\r\n                      scrollHorizontally(scrollContainer, scrollDirection);\r\n                    });\r\n                  });\r\n                });\r\n\r\n                // listen for click on atc\r\n                var addVariantButtons = document.getElementsByClassName(\r\n                  \"js:ezy-addVariantButtons\"\r\n                );\r\n                Array.from(addVariantButtons).forEach(function (\r\n                  addVariantButton\r\n                ) {\r\n                  addVariantButton.addEventListener(\"click\", function (e) {\r\n                    let variantId = this.getAttribute(\"data-variant-id\");\r\n                    showNotification(\"Product was added to the cart!\");\r\n                    toggleButton(addVariantButton);\r\n                    addVariant(variantId, 1, function () {\r\n                      toggleButton(addVariantButton);\r\n                    });\r\n                    if (content.closingBehav === \"close\") {\r\n                      modal.classList.add(\"ezy-style-modal--animate\");\r\n                      setTimeout(function () {\r\n                        modal.classList.add(\"tw-hidden\");\r\n                      }, 1000);\r\n                    }\r\n                  });\r\n                });\r\n\r\n                // listen for change to for variant select\r\n                var changeVariantSelects = document.getElementsByClassName(\r\n                  \"js:ezy-changeVariantSelects\"\r\n                );\r\n                Array.from(changeVariantSelects).forEach(function (\r\n                  changeVariantSelect\r\n                ) {\r\n                  changeVariantSelect.addEventListener(\"change\", function () {\r\n                    let variantAvailability = this.options[\r\n                      this.selectedIndex\r\n                    ].getAttribute(\"data-variant-availability\");\r\n                    let variantPrice = this.options[\r\n                      this.selectedIndex\r\n                    ].getAttribute(\"data-variant-price\");\r\n                    let variantId = this.options[this.selectedIndex].value;\r\n                    let productItem = this.closest(\r\n                      \".ezy-type-productfeed__item\"\r\n                    );\r\n                    let button = productItem.getElementsByClassName(\r\n                      \"js:ezy-addVariantButtons\"\r\n                    )[0];\r\n\r\n                    // update variant id in button\r\n                    button.setAttribute(\"data-variant-id\", variantId);\r\n\r\n                    // update price in item\r\n                    productItem.getElementsByClassName(\r\n                      \"js:ezy-productPrice\"\r\n                    )[0].innerHTML = variantPrice;\r\n\r\n                    // check availability and update state\r\n                    if (variantAvailability == \"true\") {\r\n                      enableButton(button);\r\n                    } else {\r\n                      disableButton(button);\r\n                    }\r\n                  });\r\n                  // Create a new 'change' event\r\n                  var event = new Event(\"change\");\r\n                  changeVariantSelect.dispatchEvent(event);\r\n                });\r\n                let showNotification = function (message) {\r\n                  var notification = document.querySelector(\r\n                    \".ezy-notification\"\r\n                  );\r\n                  // for (var i = 0; i < notifications.length; i++) {\r\n                  //   let notification = notifications[i];\r\n                  //   let messageElement = notification.querySelector(\"span\");\r\n                  //   if (message) {\r\n                  //     messageElement.innerHTML = message;\r\n                  //   }\r\n                  //   notification.classList.add(\"ezy-notification--animate\");\r\n                  //   setTimeout(function () {\r\n                  //     notification.classList.remove(\r\n                  //       \"ezy-notification--animate\"\r\n                  //     );\r\n                  //   }, 3000);\r\n                  // }\r\n                  notification.innerHTML = message;\r\n                  notification.classList.add(\"ezy-notification--animate\");\r\n                  setTimeout(function () {\r\n                    notification.classList.remove(\"ezy-notification--animate\");\r\n                  }, 3000);\r\n                };\r\n              },\r\n            };\r\n            ezy.productfeed.init();\r\n          } else if (content.contentType === \"custom-html\") {\r\n            body.appendChild(modal);\r\n          }\r\n        }\r\n\r\n        initiateSettings();\r\n      } else if (style.campaignType === \"full-screen\") {\r\n        // classes for the outermost shell\r\n        modal.classList.add(\"ezy\", \"ezy-style-fullscreen\");\r\n        modal.style.backgroundColor = backgroundColor;\r\n        console.log(\"this is full screen\");\r\n        // SET CONTENT TYPES\r\n        function setContentTypes() {\r\n          // tw-hidden inside section\r\n          if (content.contentType === \"text-image\") {\r\n            modal.innerHTML = `\r\n            <section class=\"ezy-style-fullscreen__close\">\r\n              <a href=\"#\" class=\"closeBtn\" title=\"Close fullscreen popup\"\">\r\n                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"feather feather-x ezy-btn--round\"><line x1=\"18\" y1=\"6\" x2=\"6\" y2=\"18\"></line><line x1=\"6\" y1=\"6\" x2=\"18\" y2=\"18\"></line></svg>\r\n              </a>\r\n            </section>\r\n            <section class=\"ezy-style-fullscreen__window\">\r\n              <section class=\"ezy-style-fullscreen__content\">\r\n                <!-- CONTENT -->\r\n          <section>\r\n            <div class=\"tw-flex tw-flex-row tw-flex-wrap tw-justify-center\">\r\n              <!-- ##IF IMAGE## -->\r\n              <div class=\"tw-w-full sm:tw-w-1/2\">\r\n                <div>\r\n                  <img class=\"ezy-style-modal__content__image\" src=\"${content.imgUrl}\"/>\r\n                </div>\r\n              </div>\r\n              <!-- ##ENDIF## -->\r\n              <div class=\"tw-w-full sm:tw-w-1/2 tw-max-w-prose tw-flex tw-flex-grow tw-justify-center tw-items-center tw-p-4 tw-md:p-8\">\r\n                <div>\r\n                  <h3 class=\"ezy-type__headline--bold-1 tw-mb-2\">${content.headline}</h3>\r\n                  <p class=\"tw-mb-4\">\r\n                  ${content.body}\r\n                  </p>\r\n                  <a class=\"ezy-btn tw-w-full\" href=\"${content.buttonUrl}\"\r\n                    style=\"\r\n                      background-color:${style.primaryButtonColor};\r\n                      border-radius:${style.borderRadius};\">${content.buttonText}</a>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </section>\r\n          <!-- END CONTENT -->\r\n          \r\n          \r\n              </section>\r\n            </section>\r\n            <a href=\"https://brickspacelab.com/\" target=\"_blank\" class=\"ezy-tooltip tw-absolute tw-bottom-2 tw-left-2\r\n              ##IF PAID_PLAN##tw-hidden##ENDIF##\">\r\n              <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"feather feather-info\"><circle cx=\"12\" cy=\"12\" r=\"10\"></circle><line x1=\"12\" y1=\"16\" x2=\"12\" y2=\"12\"></line><line x1=\"12\" y1=\"8\" x2=\"12.01\" y2=\"8\"></line></svg>\r\n              <span>Powered by Easypop</span>\r\n            </a>\r\n\r\n            `;\r\n\r\n            body.appendChild(modal);\r\n          } else if (content.contentType === \"newsletter\") {\r\n            let success;\r\n            let url = window.location.href;\r\n            if (url.includes(\"?customer_posted=true\")) {\r\n              success = \"yes\";\r\n            } else if (\r\n              url.includes(\r\n                \"t?contact%5Btags%5D=prospect%2Cnewsletter&form_type=customer\"\r\n              )\r\n            ) {\r\n              success = \"no\";\r\n            }\r\n\r\n            modal.innerHTML = `\r\n            <section class=\"ezy-style-fullscreen__close\">\r\n    <a href=\"#\" title=\"Close fullscreen popup\" class=\"closeBtn\"\">\r\n      <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"feather feather-x ezy-btn--round\"><line x1=\"18\" y1=\"6\" x2=\"6\" y2=\"18\"></line><line x1=\"6\" y1=\"6\" x2=\"18\" y2=\"18\"></line></svg>\r\n    </a>\r\n  </section>\r\n  <section class=\"ezy-style-fullscreen__window\">\r\n    <section class=\"ezy-style-fullscreen__content\">\r\n      <!-- CONTENT -->\r\n<section>\r\n  <div class=\"tw-flex tw-flex-row tw-flex-wrap tw-justify-center\">\r\n\r\n    <!-- ##IF IMAGE## -->\r\n    <div class=\"tw-w-full sm:tw-w-1/2\">\r\n      <div>\r\n        <img class=\"ezy-style-modal__content__image\" src=\"${content.imgUrl}\" />\r\n      </div>\r\n    </div>\r\n    <!-- ##ENDIF## -->\r\n\r\n    <div class=\"tw-w-full sm:tw-w-1/2 tw-max-w-prose tw-flex tw-flex-grow tw-justify-center tw-items-center tw-p-4 tw-md:p-8\">\r\n      <div>\r\n        <h3 class=\"ezy-type__headline--bold-1 tw-mb-2\">\r\n        ${content.headline}\r\n        </h3>\r\n        <p class=\"tw-mb-4\">${content.body}</p>\r\n        <form\r\n          method=\"post\"\r\n          action=\"/contact#contact_form\"\r\n          id=\"contact_form\"\r\n          accept-charset=\"UTF-8\"\r\n          class=\"contact-form\">\r\n\r\n          <input\r\n            type=\"hidden\"\r\n            name=\"form_type\"\r\n            value=\"customer\" />\r\n          <input\r\n            type=\"hidden\"\r\n            name=\"utf8\"\r\n            value=\"✓\" />\r\n          <input\r\n            id=\"contact_tags\"\r\n            name=\"contact[tags]\"\r\n            type=\"hidden\"\r\n            value=\"easypop\" />\r\n          <input\r\n            class=\"tw-mb-2\"\r\n            id=\"contact_email\"\r\n            name=\"contact[email]\"\r\n            type=\"email\" />\r\n          <input\r\n            class=\"ezy-btn tw-w-full\"\r\n            type=\"submit\"\r\n            value=\"${content.buttonText}\"\r\n            style=\"\r\n              background-color:${style.primaryButtonColor};\r\n              border-radius:${style.borderRadius};\" />\r\n\r\n          <!-- ##IF SUCCESS## -->\r\n            <div class=\"tw-bg-black tw-bg-opacity-10 tw-mt-2 tw-p-2\"\r\n              style=\"border-radius:${style.borderRadius};\">\r\n              ##SUCCESS_MESSAGE##\r\n            </div>\r\n          <!-- ##ELSE## -->\r\n            <div class=\"tw-bg-black tw-bg-opacity-10 tw-mt-2 tw-p-2\"\r\n              style=\"border-radius:${style.borderRadius};\">\r\n              ##ERROR_MESSAGE##\r\n            </div>\r\n          <!-- ##ENDIF## -->\r\n\r\n        </form>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</section>\r\n<!-- END CONTENT -->\r\n\r\n\r\n    </section>\r\n  </section>\r\n  <a href=\"https://brickspacelab.com/\" target=\"_blank\" class=\"ezy-tooltip tw-absolute tw-bottom-2 tw-left-2\r\n    ##IF PAID_PLAN##tw-hidden##ENDIF##\">\r\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"feather feather-info\"><circle cx=\"12\" cy=\"12\" r=\"10\"></circle><line x1=\"12\" y1=\"16\" x2=\"12\" y2=\"12\"></line><line x1=\"12\" y1=\"8\" x2=\"12.01\" y2=\"8\"></line></svg>\r\n    <span>Powered by Easypop</span>\r\n  </a>`;\r\n            body.appendChild(modal);\r\n          } else if (content.contentType === \"cart-progress-bar\") {\r\n            // for local testing\r\n            let cartData = {\r\n              total_price: 49900,\r\n            };\r\n            let cartProgress;\r\n            if (cartData.total_price === 0) {\r\n              cartProgress = 0;\r\n            } else {\r\n              cartProgress =\r\n                (cartData.total_price / 100 / content.cartGoalValue) * 100;\r\n            }\r\n\r\n            let remainder = cartData.total_price / 100 - content.cartGoalValue;\r\n\r\n            modal.innerHTML = `\r\n            <section class=\"ezy-style-fullscreen__close\">\r\n    <a href=\"#\" title=\"Close fullscreen popup\" class=\"closeBtn\"\">\r\n      <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"feather feather-x ezy-btn--round\"><line x1=\"18\" y1=\"6\" x2=\"6\" y2=\"18\"></line><line x1=\"6\" y1=\"6\" x2=\"18\" y2=\"18\"></line></svg>\r\n    </a>\r\n  </section>\r\n  <section class=\"ezy-style-fullscreen__window\">\r\n    <section class=\"ezy-style-fullscreen__content\">\r\n      <!-- CONTENT -->\r\n<section>\r\n  <div class=\"tw-flex tw-flex-row tw-flex-wrap tw-justify-center\">\r\n    <div class=\"tw-w-full sm:tw-w-1/2 tw-max-w-prose tw-flex tw-flex-grow tw-justify-center tw-items-center\">\r\n      <div class=\"tw-w-full\">\r\n\r\n        <section class=\"tw-border-b tw-border-gray-200 tw-p-4\">\r\n          <p class=\"tw-mb-1\"> ${\r\n            remainder < 0\r\n              ? `You're $${-remainder} away from ${content.cartGoalPrize}.`\r\n              : `${content.cartSuccessMessage}`\r\n          }</p>\r\n          <div class=\"ezy-progressbar\"\r\n            style=\"\r\n              border-radius: ${style.borderRadius}px;\">\r\n            <div class=\"ezy-progressbar__inner\" style=\"width: ${cartProgress}%; background-color: ${primaryButtonColor};\">\r\n            </div>\r\n          </div>\r\n        </section>\r\n\r\n        <section class=\"tw-p-4 tw-md:p-8\">\r\n          <h3 class=\"ezy-type__headline--bold-1 tw-mb-2\">${\r\n            content.headline\r\n          }</h3>\r\n          <p class=\"tw-mb-4\">\r\n          ${content.body}\r\n          </p>\r\n\r\n          <a class=\"ezy-btn tw-w-full\" href=\"${content.buttonUrl}\"\r\n            style=\"\r\n              background-color:${style.primaryButtonColor};\r\n              border-radius:${style.borderRadius}px;\">\r\n            ${content.buttonText}\r\n          </a>\r\n        </section>\r\n\r\n      </div>\r\n    </div>\r\n  </div>\r\n</section>\r\n<!-- END CONTENT -->\r\n\r\n\r\n    </section>\r\n  </section>\r\n  <a href=\"https://brickspacelab.com/\" target=\"_blank\" class=\"ezy-tooltip tw-absolute tw-bottom-2 tw-left-2\r\n    ##IF PAID_PLAN##tw-hidden##ENDIF##\">\r\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"feather feather-info\"><circle cx=\"12\" cy=\"12\" r=\"10\"></circle><line x1=\"12\" y1=\"16\" x2=\"12\" y2=\"12\"></line><line x1=\"12\" y1=\"8\" x2=\"12.01\" y2=\"8\"></line></svg>\r\n    <span>Powered by Easypop</span>\r\n  </a>\r\n            \r\n            \r\n          \r\n          `;\r\n            body.appendChild(modal);\r\n          } else if (content.contentType === \"product-feed\") {\r\n            const products = content.selectedProducts[0].selection;\r\n            modal.innerHTML = `\r\n            \r\n            <section class=\"ezy-style-fullscreen__close\">\r\n    <a href=\"#\" title=\"Close fullscreen popup\" class=\"closeBtn\"\">\r\n      <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"feather feather-x ezy-btn--round\"><line x1=\"18\" y1=\"6\" x2=\"6\" y2=\"18\"></line><line x1=\"6\" y1=\"6\" x2=\"18\" y2=\"18\"></line></svg>\r\n    </a>\r\n  </section>\r\n  <section class=\"ezy-style-fullscreen__window\">\r\n    <section class=\"ezy-style-fullscreen__content\">\r\n      <!-- CONTENT -->\r\n<div class=\"tw-flex tw-flex-row tw-flex-wrap\">\r\n  <div class=\"tw-w-full sm:tw-w-full tw-flex tw-justify-center tw-items-center\">\r\n    <div class=\"tw-overflow-hidden\">\r\n      <div class=\"tw-p-4 tw-max-w-prose\">\r\n        <h3 class=\"ezy-type__headline--bold-1\">${content.headline}</h3>\r\n        <p>\r\n        ${content.body}\r\n        </p>\r\n      </div>\r\n      <div class=\"ezy-type-productfeed__arrows\">\r\n        <div class=\"ezy-type-productfeed__back\">\r\n          <button class=\"js:ezy-scrollArrowButtons\" data-scroll-direction=\"0\" data-scroll-container=\"ezy-type-productfeed\">\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"feather feather-arrow-left ezy-btn--round\"><line x1=\"19\" y1=\"12\" x2=\"5\" y2=\"12\"></line><polyline points=\"12 19 5 12 12 5\"></polyline></svg>\r\n          </button>\r\n        </div>\r\n        <div class=\"ezy-type-productfeed__next\">\r\n          <button class=\"js:ezy-scrollArrowButtons\" data-scroll-direction=\"1\" data-scroll-container=\"ezy-type-productfeed\">\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"feather feather-arrow-right ezy-btn--round\"><line x1=\"5\" y1=\"12\" x2=\"19\" y2=\"12\"></line><polyline points=\"12 5 19 12 12 19\"></polyline></svg>\r\n          </button>\r\n        </div>\r\n      </div>\r\n      <div class=\"ezy-type-productfeed\">\r\n      ${products.map((product) => {\r\n        return `\r\n        <div class=\"ezy-type-productfeed__item\">\r\n        <img class=\"image--square\" src=${product.images[0].originalSrc}/>\r\n        <div class=\"tw-px-2 tw-py-4\">\r\n          <p>${product.title}</p>\r\n          <p class=\"tw-pb-2\">$<span class=\"tw-pb-2 js:ezy-productPrice\">${\r\n            product.variants[0].price\r\n          }</span></p>\r\n          <select id=\"id\" name=\"id\" class=\"ezy-select tw-mb-2 js:ezy-changeVariantSelects\">\r\n            ${product.variants.map((variant) => {\r\n              return `<option value=\"${\r\n                variant.id\r\n                  .split(\"gid://shopify/ProductVariant/\")\r\n                  .pop()\r\n                  .split(\"/\")[0]\r\n              }\" data-variant-availability=\"${\r\n                variant.availableForSale\r\n              }\" data-variant-price=\"${variant.price}\">${\r\n                variant.title\r\n              }</option>`;\r\n            })}\r\n          </select>\r\n          <button class=\"ezy-btn js:ezy-addVariantButtons tw-w-full\" style=\"background-color:${\r\n            style.primaryButtonColor\r\n          }\" data-variant-id=\"${product.variants[0].price}\">\r\n            <span class=\"ezy-btn__text\">\r\n              Add to cart\r\n            </span>\r\n            <span class=\"ezy-btn__spinner\">\r\n              <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"feather feather-loader\"><line x1=\"12\" y1=\"2\" x2=\"12\" y2=\"6\"></line><line x1=\"12\" y1=\"18\" x2=\"12\" y2=\"22\"></line><line x1=\"4.93\" y1=\"4.93\" x2=\"7.76\" y2=\"7.76\"></line><line x1=\"16.24\" y1=\"16.24\" x2=\"19.07\" y2=\"19.07\"></line><line x1=\"2\" y1=\"12\" x2=\"6\" y2=\"12\"></line><line x1=\"18\" y1=\"12\" x2=\"22\" y2=\"12\"></line><line x1=\"4.93\" y1=\"19.07\" x2=\"7.76\" y2=\"16.24\"></line><line x1=\"16.24\" y1=\"7.76\" x2=\"19.07\" y2=\"4.93\"></line></svg>\r\n            </button>\r\n          </a>\r\n        </div>\r\n      </div>`;\r\n      })}\r\n\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n    </section>\r\n  </section>\r\n  <a href=\"https://brickspacelab.com/\" target=\"_blank\" class=\"ezy-tooltip tw-absolute tw-bottom-2 tw-left-2\r\n    ##IF PAID_PLAN##tw-hidden##ENDIF##\">\r\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"feather feather-info\"><circle cx=\"12\" cy=\"12\" r=\"10\"></circle><line x1=\"12\" y1=\"16\" x2=\"12\" y2=\"12\"></line><line x1=\"12\" y1=\"8\" x2=\"12.01\" y2=\"8\"></line></svg>\r\n    <span>Powered by Easypop</span>\r\n  </a>\r\n</section>`;\r\n\r\n            body.appendChild(modal);\r\n            var ezy = ezy || {};\r\n            ezy.productfeed = {\r\n              // simple fetch call\r\n              fetch: function (\r\n                requestType,\r\n                url,\r\n                data,\r\n                contentType,\r\n                successCallback,\r\n                errorCallback\r\n              ) {\r\n                fetch(url, {\r\n                  method: requestType,\r\n                  headers: {\r\n                    \"Content-Type\": contentType,\r\n                    Accept: contentType,\r\n                    \"X-Requested-With\": \"xmlhttprequest\",\r\n                  },\r\n                  body: JSON.stringify(data),\r\n                })\r\n                  .then((response) => response.json())\r\n                  .then((data) => {\r\n                    successCallback(data);\r\n                  })\r\n                  .catch((error) => {\r\n                    errorCallback(error);\r\n                  });\r\n              },\r\n\r\n              // initilize product feed\r\n              init: function () {\r\n                // add variant to cart\r\n                function addVariant(variantID, quantity, callback) {\r\n                  let data = {\r\n                    items: [\r\n                      {\r\n                        id: variantID,\r\n                        quantity: quantity,\r\n                      },\r\n                    ],\r\n                  };\r\n                  ezy.productfeed.fetch(\r\n                    \"POST\",\r\n                    \"/cart/add.js\",\r\n                    data,\r\n                    \"application/json; charset=utf-8\",\r\n\r\n                    // success\r\n                    function (data) {\r\n                      console.log(data);\r\n                      if (typeof callback === \"function\" && callback()) {\r\n                        window.setTimeout(function () {\r\n                          callback();\r\n                        }, 500);\r\n                      }\r\n                    },\r\n\r\n                    // error\r\n                    function (error) {\r\n                      if (typeof callback === \"function\" && callback()) {\r\n                        window.setTimeout(function () {\r\n                          callback();\r\n                        }, 500);\r\n                      }\r\n                    }\r\n                  );\r\n                }\r\n\r\n                // scroll container horizontally\r\n                function scrollHorizontally(element, direction) {\r\n                  if (direction == 0) {\r\n                    element.scroll({\r\n                      left: element.scrollLeft - 350,\r\n                      behavior: \"smooth\",\r\n                    });\r\n                  } else {\r\n                    element.scroll({\r\n                      left: element.scrollLeft + 350,\r\n                      behavior: \"smooth\",\r\n                    });\r\n                  }\r\n                }\r\n\r\n                // toggle loading state of button\r\n                function toggleButton(button) {\r\n                  if (button.classList.contains(\"ezy-btn--loading\")) {\r\n                    button.classList.remove(\"ezy-btn--loading\");\r\n                    button.disabled = false;\r\n                  } else {\r\n                    button.classList.add(\"ezy-btn--loading\");\r\n                    button.disabled = true;\r\n                  }\r\n                }\r\n\r\n                // add disabled state to button\r\n                function disableButton(button) {\r\n                  button.classList.add(\"ezy-btn--disabled\");\r\n                  button.disabled = true;\r\n                }\r\n\r\n                // add enabled state to button\r\n                function enableButton(button) {\r\n                  button.classList.remove(\"ezy-btn--disabled\");\r\n                  button.disabled = false;\r\n                }\r\n\r\n                // listen for click on scroll arrows\r\n                var scrollArrowButtons = document.getElementsByClassName(\r\n                  \"js:ezy-scrollArrowButtons\"\r\n                );\r\n                Array.from(scrollArrowButtons).forEach(function (\r\n                  scrollArrowButton\r\n                ) {\r\n                  scrollArrowButton.addEventListener(\"click\", function (e) {\r\n                    let scrollContainerClass = this.getAttribute(\r\n                      \"data-scroll-container\"\r\n                    );\r\n                    let scrollDirection = this.getAttribute(\r\n                      \"data-scroll-direction\"\r\n                    );\r\n                    var scrollContainers = document.getElementsByClassName(\r\n                      scrollContainerClass\r\n                    );\r\n                    Array.from(scrollContainers).forEach(function (\r\n                      scrollContainer\r\n                    ) {\r\n                      scrollHorizontally(scrollContainer, scrollDirection);\r\n                    });\r\n                  });\r\n                });\r\n\r\n                // listen for click on atc\r\n                var addVariantButtons = document.getElementsByClassName(\r\n                  \"js:ezy-addVariantButtons\"\r\n                );\r\n                Array.from(addVariantButtons).forEach(function (\r\n                  addVariantButton\r\n                ) {\r\n                  addVariantButton.addEventListener(\"click\", function (e) {\r\n                    let variantId = this.getAttribute(\"data-variant-id\");\r\n                    showNotification(\"Product was added to the cart!\");\r\n                    toggleButton(addVariantButton);\r\n                    addVariant(variantId, 1, function () {\r\n                      toggleButton(addVariantButton);\r\n                    });\r\n                    if (content.closingBehav === \"close\") {\r\n                      modal.classList.add(\"ezy-style-modal--animate\");\r\n                      setTimeout(function () {\r\n                        modal.classList.add(\"tw-hidden\");\r\n                      }, 1000);\r\n                    }\r\n                  });\r\n                });\r\n\r\n                // listen for change to for variant select\r\n                var changeVariantSelects = document.getElementsByClassName(\r\n                  \"js:ezy-changeVariantSelects\"\r\n                );\r\n                Array.from(changeVariantSelects).forEach(function (\r\n                  changeVariantSelect\r\n                ) {\r\n                  changeVariantSelect.addEventListener(\"change\", function () {\r\n                    let variantAvailability = this.options[\r\n                      this.selectedIndex\r\n                    ].getAttribute(\"data-variant-availability\");\r\n                    let variantPrice = this.options[\r\n                      this.selectedIndex\r\n                    ].getAttribute(\"data-variant-price\");\r\n                    let variantId = this.options[this.selectedIndex].value;\r\n                    let productItem = this.closest(\r\n                      \".ezy-type-productfeed__item\"\r\n                    );\r\n                    let button = productItem.getElementsByClassName(\r\n                      \"js:ezy-addVariantButtons\"\r\n                    )[0];\r\n\r\n                    // update variant id in button\r\n                    button.setAttribute(\"data-variant-id\", variantId);\r\n\r\n                    // update price in item\r\n                    productItem.getElementsByClassName(\r\n                      \"js:ezy-productPrice\"\r\n                    )[0].innerHTML = variantPrice;\r\n\r\n                    // check availability and update state\r\n                    if (variantAvailability == \"true\") {\r\n                      enableButton(button);\r\n                    } else {\r\n                      disableButton(button);\r\n                    }\r\n                  });\r\n                  // Create a new 'change' event\r\n                  var event = new Event(\"change\");\r\n                  changeVariantSelect.dispatchEvent(event);\r\n                });\r\n                let showNotification = function (message) {\r\n                  var notification = document.querySelector(\r\n                    \".ezy-notification\"\r\n                  );\r\n                  // for (var i = 0; i < notifications.length; i++) {\r\n                  //   let notification = notifications[i];\r\n                  //   let messageElement = notification.querySelector(\"span\");\r\n                  //   if (message) {\r\n                  //     messageElement.innerHTML = message;\r\n                  //   }\r\n                  //   notification.classList.add(\"ezy-notification--animate\");\r\n                  //   setTimeout(function () {\r\n                  //     notification.classList.remove(\r\n                  //       \"ezy-notification--animate\"\r\n                  //     );\r\n                  //   }, 3000);\r\n                  // }\r\n                  notification.innerHTML = message;\r\n                  notification.classList.add(\"ezy-notification--animate\");\r\n                  setTimeout(function () {\r\n                    notification.classList.remove(\"ezy-notification--animate\");\r\n                  }, 3000);\r\n                };\r\n              },\r\n            };\r\n            ezy.productfeed.init();\r\n          } else if (content.contentType === \"custom-html\") {\r\n            body.appendChild(modal);\r\n          }\r\n        }\r\n\r\n        initiateSettings();\r\n      } else if (style.campaignType === \"slide-in\") {\r\n        // classes for the outermost shell\r\n        modal.classList.add(\r\n          \"ezy\",\r\n          \"ezy-style-drawer\",\r\n          `ezy-style-drawer--${style.placement}`\r\n        );\r\n        modal.style.backgroundColor = backgroundColor;\r\n        // SET CONTENT TYPES\r\n        function setContentTypes() {\r\n          // tw-hidden inside section\r\n          if (content.contentType === \"text-image\") {\r\n            modal.innerHTML = `\r\n            <section class=\"ezy-style-drawer__close\">\r\n    <a href=\"#\" title=\"Close drawer\" class=\"closeBtn\";\">\r\n      <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"feather feather-x ezy-btn--round--inverted\"><line x1=\"18\" y1=\"6\" x2=\"6\" y2=\"18\"></line><line x1=\"6\" y1=\"6\" x2=\"18\" y2=\"18\"></line></svg>\r\n    </a>\r\n  </section>\r\n  <section class=\"ezy-style-drawer__window\"\r\n    style=\"\r\n      background-color:${backgroundColor};\">\r\n    <section class=\"ezy-style-drawer__content\">\r\n      <!-- CONTENT -->\r\n<section>\r\n  <div class=\"tw-flex tw-flex-row tw-flex-wrap tw-justify-center\">\r\n    <!-- ##IF IMAGE## -->\r\n    <div class=\"tw-w-full sm:tw-w-1/2\">\r\n      <div>\r\n        <img class=\"ezy-style-modal__content__image\" src=\"${content.imgUrl}\"/>\r\n      </div>\r\n    </div>\r\n    <!-- ##ENDIF## -->\r\n    <div class=\"tw-w-full sm:tw-w-1/2 tw-max-w-prose tw-flex tw-flex-grow tw-justify-center tw-items-center tw-p-4 tw-md:p-8\">\r\n      <div>\r\n        <h3 class=\"ezy-type__headline--bold-1 tw-mb-2\">${content.headline}</h3>\r\n        <p class=\"tw-mb-4\">\r\n        ${content.body}\r\n        </p>\r\n        <a class=\"ezy-btn tw-w-full\" href=\"${content.buttonUrl}\"\r\n          style=\"\r\n            background-color:${primaryButtonColor};\r\n            border-radius:${style.borderRadius};\">${content.buttonText}</a>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</section>\r\n<!-- END CONTENT -->\r\n\r\n\r\n    </section>\r\n    <a href=\"https://brickspacelab.com/\" target=\"_blank\" class=\"ezy-tooltip tw-absolute tw-bottom-2 tw-right-2\r\n      ##IF PAID_PLAN##tw-hidden##ENDIF##\">\r\n      <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"feather feather-info\"><circle cx=\"12\" cy=\"12\" r=\"10\"></circle><line x1=\"12\" y1=\"16\" x2=\"12\" y2=\"12\"></line><line x1=\"12\" y1=\"8\" x2=\"12.01\" y2=\"8\"></line></svg>\r\n      <span>Powered by Easypop</span>\r\n    </a>\r\n  </section>\r\n\r\n            `;\r\n\r\n            body.appendChild(modal);\r\n          } else if (content.contentType === \"newsletter\") {\r\n            let success;\r\n            let url = window.location.href;\r\n            if (url.includes(\"?customer_posted=true\")) {\r\n              success = \"yes\";\r\n            } else if (\r\n              url.includes(\r\n                \"t?contact%5Btags%5D=prospect%2Cnewsletter&form_type=customer\"\r\n              )\r\n            ) {\r\n              success = \"no\";\r\n            }\r\n\r\n            modal.innerHTML = `\r\n            <section class=\"ezy-style-drawer__close\">\r\n    <a href=\"#\" title=\"Close drawer\" class=\"closeBtn\";\">\r\n      <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"feather feather-x ezy-btn--round--inverted\"><line x1=\"18\" y1=\"6\" x2=\"6\" y2=\"18\"></line><line x1=\"6\" y1=\"6\" x2=\"18\" y2=\"18\"></line></svg>\r\n    </a>\r\n  </section>\r\n  <section class=\"ezy-style-drawer__window\"\r\n    style=\"\r\n      background-color:##BACKGROUND_COLOR##;\">\r\n    <section class=\"ezy-style-drawer__content\">\r\n      <!-- CONTENT -->\r\n<section>\r\n  <div class=\"tw-flex tw-flex-row tw-flex-wrap tw-justify-center\">\r\n\r\n    <!-- ##IF IMAGE## -->\r\n    <div class=\"tw-w-full sm:tw-w-1/2\">\r\n      <div>\r\n        <img class=\"ezy-style-modal__content__image\" src=\"##IMAGE_SRC##\" />\r\n      </div>\r\n    </div>\r\n    <!-- ##ENDIF## -->\r\n\r\n    <div class=\"tw-w-full sm:tw-w-1/2 tw-max-w-prose tw-flex tw-flex-grow tw-justify-center tw-items-center tw-p-4 tw-md:p-8\">\r\n      <div>\r\n        <h3 class=\"ezy-type__headline--bold-1 tw-mb-2\">\r\n          ##HEADLINE##\r\n        </h3>\r\n        <p class=\"tw-mb-4\">##BODY##</p>\r\n        <form\r\n          method=\"post\"\r\n          action=\"/contact#contact_form\"\r\n          id=\"contact_form\"\r\n          accept-charset=\"UTF-8\"\r\n          class=\"contact-form\">\r\n\r\n          <input\r\n            type=\"hidden\"\r\n            name=\"form_type\"\r\n            value=\"customer\" />\r\n          <input\r\n            type=\"hidden\"\r\n            name=\"utf8\"\r\n            value=\"✓\" />\r\n          <input\r\n            id=\"contact_tags\"\r\n            name=\"contact[tags]\"\r\n            type=\"hidden\"\r\n            value=\"easypop\" />\r\n          <input\r\n            class=\"tw-mb-2\"\r\n            id=\"contact_email\"\r\n            name=\"contact[email]\"\r\n            type=\"email\" />\r\n          <input\r\n            class=\"ezy-btn tw-w-full\"\r\n            type=\"submit\"\r\n            value=\"##BUTTON_TEXT##\"\r\n            style=\"\r\n              background-color:##BUTTON_COLOR##;\r\n              border-radius:##BORDER_RADIUS##;\" />\r\n\r\n          <!-- ##IF SUCCESS## -->\r\n            <div class=\"tw-bg-black tw-bg-opacity-10 tw-mt-2 tw-p-2\"\r\n              style=\"border-radius:##BORDER_RADIUS##;\">\r\n              ##SUCCESS_MESSAGE##\r\n            </div>\r\n          <!-- ##ELSE## -->\r\n            <div class=\"tw-bg-black tw-bg-opacity-10 tw-mt-2 tw-p-2\"\r\n              style=\"border-radius:##BORDER_RADIUS##;\">\r\n              ##ERROR_MESSAGE##\r\n            </div>\r\n          <!-- ##ENDIF## -->\r\n\r\n        </form>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</section>\r\n<!-- END CONTENT -->\r\n\r\n\r\n    </section>\r\n    <a href=\"https://brickspacelab.com/\" target=\"_blank\" class=\"ezy-tooltip tw-absolute tw-bottom-2 tw-right-2\r\n      ##IF PAID_PLAN##tw-hidden##ENDIF##\">\r\n      <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"feather feather-info\"><circle cx=\"12\" cy=\"12\" r=\"10\"></circle><line x1=\"12\" y1=\"16\" x2=\"12\" y2=\"12\"></line><line x1=\"12\" y1=\"8\" x2=\"12.01\" y2=\"8\"></line></svg>\r\n      <span>Powered by Easypop</span>\r\n    </a>\r\n  </section>`;\r\n            body.appendChild(modal);\r\n          } else if (content.contentType === \"cart-progress-bar\") {\r\n            // for local testing\r\n            let cartData = {\r\n              total_price: 49900,\r\n            };\r\n            let cartProgress;\r\n            if (cartData.total_price === 0) {\r\n              cartProgress = 0;\r\n            } else {\r\n              cartProgress =\r\n                (cartData.total_price / 100 / content.cartGoalValue) * 100;\r\n            }\r\n\r\n            let remainder = cartData.total_price / 100 - content.cartGoalValue;\r\n\r\n            modal.innerHTML = `\r\n            <section class=\"ezy-style-drawer__close\">\r\n    <a href=\"#\" title=\"Close drawer\" onclick=\"ezy.drawers.closeAll();\">\r\n      <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"feather feather-x ezy-btn--round--inverted\"><line x1=\"18\" y1=\"6\" x2=\"6\" y2=\"18\"></line><line x1=\"6\" y1=\"6\" x2=\"18\" y2=\"18\"></line></svg>\r\n    </a>\r\n  </section>\r\n  <section class=\"ezy-style-drawer__window\"\r\n    style=\"\r\n      background-color:##BACKGROUND_COLOR##;\">\r\n    <section class=\"ezy-style-drawer__content\">\r\n      <!-- CONTENT -->\r\n<section>\r\n  <div class=\"tw-flex tw-flex-row tw-flex-wrap tw-justify-center\">\r\n    <div class=\"tw-w-full sm:tw-w-1/2 tw-max-w-prose tw-flex tw-flex-grow tw-justify-center tw-items-center\">\r\n      <div class=\"tw-w-full\">\r\n\r\n        <section class=\"tw-border-b tw-border-gray-200 tw-p-4\">\r\n          <p class=\"tw-mb-1\">You're $xx.xx away from ##GOAL_TEXT##.</p>\r\n          <p class=\"tw-mb-1\">##SUCESS_TEXT##.</p>\r\n          <div class=\"ezy-progressbar\"\r\n            style=\"\r\n              background-color:##BUTTON_COLOR##;\r\n              border-radius:##BORDER_RADIUS##;\">\r\n            <div class=\"ezy-progressbar__inner\" style=\"width:66%;\">\r\n            </div>\r\n          </div>\r\n        </section>\r\n\r\n        <section class=\"tw-p-4 tw-md:p-8\">\r\n          <h3 class=\"ezy-type__headline--bold-1 tw-mb-2\">##HEADLINE##</h3>\r\n          <p class=\"tw-mb-4\">\r\n            ##BODY##\r\n          </p>\r\n\r\n          <a class=\"ezy-btn tw-w-full\" href=\"##BUTTON_URL##\"\r\n            style=\"\r\n              background-color:##BUTTON_COLOR##;\r\n              border-radius:##BORDER_RADIUS##;\">\r\n            ##BUTTON_TEXT##\r\n          </a>\r\n        </section>\r\n\r\n      </div>\r\n    </div>\r\n  </div>\r\n</section>\r\n<!-- END CONTENT -->\r\n\r\n\r\n    </section>\r\n    <a href=\"https://brickspacelab.com/\" target=\"_blank\" class=\"ezy-tooltip tw-absolute tw-bottom-2 tw-right-2\r\n      ##IF PAID_PLAN##tw-hidden##ENDIF##\">\r\n      <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"feather feather-info\"><circle cx=\"12\" cy=\"12\" r=\"10\"></circle><line x1=\"12\" y1=\"16\" x2=\"12\" y2=\"12\"></line><line x1=\"12\" y1=\"8\" x2=\"12.01\" y2=\"8\"></line></svg>\r\n      <span>Powered by Easypop</span>\r\n    </a>\r\n  </section>\r\n            \r\n          \r\n          `;\r\n            body.appendChild(modal);\r\n          } else if (content.contentType === \"product-feed\") {\r\n            const products = content.selectedProducts[0].selection;\r\n            modal.innerHTML = `\r\n            \r\n            <section class=\"ezy-style-fullscreen__close\">\r\n    <a href=\"#\" title=\"Close fullscreen popup\" class=\"closeBtn\"\">\r\n      <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"feather feather-x ezy-btn--round\"><line x1=\"18\" y1=\"6\" x2=\"6\" y2=\"18\"></line><line x1=\"6\" y1=\"6\" x2=\"18\" y2=\"18\"></line></svg>\r\n    </a>\r\n  </section>\r\n  <section class=\"ezy-style-fullscreen__window\">\r\n    <section class=\"ezy-style-fullscreen__content\">\r\n      <!-- CONTENT -->\r\n<div class=\"tw-flex tw-flex-row tw-flex-wrap\">\r\n  <div class=\"tw-w-full sm:tw-w-full tw-flex tw-justify-center tw-items-center\">\r\n    <div class=\"tw-overflow-hidden\">\r\n      <div class=\"tw-p-4 tw-max-w-prose\">\r\n        <h3 class=\"ezy-type__headline--bold-1\">${content.headline}</h3>\r\n        <p>\r\n        ${content.body}\r\n        </p>\r\n      </div>\r\n      <div class=\"ezy-type-productfeed__arrows\">\r\n        <div class=\"ezy-type-productfeed__back\">\r\n          <button class=\"js:ezy-scrollArrowButtons\" data-scroll-direction=\"0\" data-scroll-container=\"ezy-type-productfeed\">\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"feather feather-arrow-left ezy-btn--round\"><line x1=\"19\" y1=\"12\" x2=\"5\" y2=\"12\"></line><polyline points=\"12 19 5 12 12 5\"></polyline></svg>\r\n          </button>\r\n        </div>\r\n        <div class=\"ezy-type-productfeed__next\">\r\n          <button class=\"js:ezy-scrollArrowButtons\" data-scroll-direction=\"1\" data-scroll-container=\"ezy-type-productfeed\">\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"feather feather-arrow-right ezy-btn--round\"><line x1=\"5\" y1=\"12\" x2=\"19\" y2=\"12\"></line><polyline points=\"12 5 19 12 12 19\"></polyline></svg>\r\n          </button>\r\n        </div>\r\n      </div>\r\n      <div class=\"ezy-type-productfeed\">\r\n      ${products.map((product) => {\r\n        return `\r\n        <div class=\"ezy-type-productfeed__item\">\r\n        <img class=\"image--square\" src=${product.images[0].originalSrc}/>\r\n        <div class=\"tw-px-2 tw-py-4\">\r\n          <p>${product.title}</p>\r\n          <p class=\"tw-pb-2\">$<span class=\"tw-pb-2 js:ezy-productPrice\">${\r\n            product.variants[0].price\r\n          }</span></p>\r\n          <select id=\"id\" name=\"id\" class=\"ezy-select tw-mb-2 js:ezy-changeVariantSelects\">\r\n            ${product.variants.map((variant) => {\r\n              return `<option value=\"${\r\n                variant.id\r\n                  .split(\"gid://shopify/ProductVariant/\")\r\n                  .pop()\r\n                  .split(\"/\")[0]\r\n              }\" data-variant-availability=\"${\r\n                variant.availableForSale\r\n              }\" data-variant-price=\"${variant.price}\">${\r\n                variant.title\r\n              }</option>`;\r\n            })}\r\n          </select>\r\n          <button class=\"ezy-btn js:ezy-addVariantButtons tw-w-full\" style=\"background-color:${\r\n            style.primaryButtonColor\r\n          }\" data-variant-id=\"${product.variants[0].price}\">\r\n            <span class=\"ezy-btn__text\">\r\n              Add to cart\r\n            </span>\r\n            <span class=\"ezy-btn__spinner\">\r\n              <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"feather feather-loader\"><line x1=\"12\" y1=\"2\" x2=\"12\" y2=\"6\"></line><line x1=\"12\" y1=\"18\" x2=\"12\" y2=\"22\"></line><line x1=\"4.93\" y1=\"4.93\" x2=\"7.76\" y2=\"7.76\"></line><line x1=\"16.24\" y1=\"16.24\" x2=\"19.07\" y2=\"19.07\"></line><line x1=\"2\" y1=\"12\" x2=\"6\" y2=\"12\"></line><line x1=\"18\" y1=\"12\" x2=\"22\" y2=\"12\"></line><line x1=\"4.93\" y1=\"19.07\" x2=\"7.76\" y2=\"16.24\"></line><line x1=\"16.24\" y1=\"7.76\" x2=\"19.07\" y2=\"4.93\"></line></svg>\r\n            </button>\r\n          </a>\r\n        </div>\r\n      </div>`;\r\n      })}\r\n\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n    </section>\r\n  </section>\r\n  <a href=\"https://brickspacelab.com/\" target=\"_blank\" class=\"ezy-tooltip tw-absolute tw-bottom-2 tw-left-2\r\n    ##IF PAID_PLAN##tw-hidden##ENDIF##\">\r\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"feather feather-info\"><circle cx=\"12\" cy=\"12\" r=\"10\"></circle><line x1=\"12\" y1=\"16\" x2=\"12\" y2=\"12\"></line><line x1=\"12\" y1=\"8\" x2=\"12.01\" y2=\"8\"></line></svg>\r\n    <span>Powered by Easypop</span>\r\n  </a>\r\n</section>`;\r\n\r\n            body.appendChild(modal);\r\n            var ezy = ezy || {};\r\n            ezy.productfeed = {\r\n              // simple fetch call\r\n              fetch: function (\r\n                requestType,\r\n                url,\r\n                data,\r\n                contentType,\r\n                successCallback,\r\n                errorCallback\r\n              ) {\r\n                fetch(url, {\r\n                  method: requestType,\r\n                  headers: {\r\n                    \"Content-Type\": contentType,\r\n                    Accept: contentType,\r\n                    \"X-Requested-With\": \"xmlhttprequest\",\r\n                  },\r\n                  body: JSON.stringify(data),\r\n                })\r\n                  .then((response) => response.json())\r\n                  .then((data) => {\r\n                    successCallback(data);\r\n                  })\r\n                  .catch((error) => {\r\n                    errorCallback(error);\r\n                  });\r\n              },\r\n\r\n              // initilize product feed\r\n              init: function () {\r\n                // add variant to cart\r\n                function addVariant(variantID, quantity, callback) {\r\n                  let data = {\r\n                    items: [\r\n                      {\r\n                        id: variantID,\r\n                        quantity: quantity,\r\n                      },\r\n                    ],\r\n                  };\r\n                  ezy.productfeed.fetch(\r\n                    \"POST\",\r\n                    \"/cart/add.js\",\r\n                    data,\r\n                    \"application/json; charset=utf-8\",\r\n\r\n                    // success\r\n                    function (data) {\r\n                      console.log(data);\r\n                      if (typeof callback === \"function\" && callback()) {\r\n                        window.setTimeout(function () {\r\n                          callback();\r\n                        }, 500);\r\n                      }\r\n                    },\r\n\r\n                    // error\r\n                    function (error) {\r\n                      if (typeof callback === \"function\" && callback()) {\r\n                        window.setTimeout(function () {\r\n                          callback();\r\n                        }, 500);\r\n                      }\r\n                    }\r\n                  );\r\n                }\r\n\r\n                // scroll container horizontally\r\n                function scrollHorizontally(element, direction) {\r\n                  if (direction == 0) {\r\n                    element.scroll({\r\n                      left: element.scrollLeft - 350,\r\n                      behavior: \"smooth\",\r\n                    });\r\n                  } else {\r\n                    element.scroll({\r\n                      left: element.scrollLeft + 350,\r\n                      behavior: \"smooth\",\r\n                    });\r\n                  }\r\n                }\r\n\r\n                // toggle loading state of button\r\n                function toggleButton(button) {\r\n                  if (button.classList.contains(\"ezy-btn--loading\")) {\r\n                    button.classList.remove(\"ezy-btn--loading\");\r\n                    button.disabled = false;\r\n                  } else {\r\n                    button.classList.add(\"ezy-btn--loading\");\r\n                    button.disabled = true;\r\n                  }\r\n                }\r\n\r\n                // add disabled state to button\r\n                function disableButton(button) {\r\n                  button.classList.add(\"ezy-btn--disabled\");\r\n                  button.disabled = true;\r\n                }\r\n\r\n                // add enabled state to button\r\n                function enableButton(button) {\r\n                  button.classList.remove(\"ezy-btn--disabled\");\r\n                  button.disabled = false;\r\n                }\r\n\r\n                // listen for click on scroll arrows\r\n                var scrollArrowButtons = document.getElementsByClassName(\r\n                  \"js:ezy-scrollArrowButtons\"\r\n                );\r\n                Array.from(scrollArrowButtons).forEach(function (\r\n                  scrollArrowButton\r\n                ) {\r\n                  scrollArrowButton.addEventListener(\"click\", function (e) {\r\n                    let scrollContainerClass = this.getAttribute(\r\n                      \"data-scroll-container\"\r\n                    );\r\n                    let scrollDirection = this.getAttribute(\r\n                      \"data-scroll-direction\"\r\n                    );\r\n                    var scrollContainers = document.getElementsByClassName(\r\n                      scrollContainerClass\r\n                    );\r\n                    Array.from(scrollContainers).forEach(function (\r\n                      scrollContainer\r\n                    ) {\r\n                      scrollHorizontally(scrollContainer, scrollDirection);\r\n                    });\r\n                  });\r\n                });\r\n\r\n                // listen for click on atc\r\n                var addVariantButtons = document.getElementsByClassName(\r\n                  \"js:ezy-addVariantButtons\"\r\n                );\r\n                Array.from(addVariantButtons).forEach(function (\r\n                  addVariantButton\r\n                ) {\r\n                  addVariantButton.addEventListener(\"click\", function (e) {\r\n                    let variantId = this.getAttribute(\"data-variant-id\");\r\n                    showNotification(\"Product was added to the cart!\");\r\n                    toggleButton(addVariantButton);\r\n                    addVariant(variantId, 1, function () {\r\n                      toggleButton(addVariantButton);\r\n                    });\r\n                    if (content.closingBehav === \"close\") {\r\n                      modal.classList.add(\"ezy-style-modal--animate\");\r\n                      setTimeout(function () {\r\n                        modal.classList.add(\"tw-hidden\");\r\n                      }, 1000);\r\n                    }\r\n                  });\r\n                });\r\n\r\n                // listen for change to for variant select\r\n                var changeVariantSelects = document.getElementsByClassName(\r\n                  \"js:ezy-changeVariantSelects\"\r\n                );\r\n                Array.from(changeVariantSelects).forEach(function (\r\n                  changeVariantSelect\r\n                ) {\r\n                  changeVariantSelect.addEventListener(\"change\", function () {\r\n                    let variantAvailability = this.options[\r\n                      this.selectedIndex\r\n                    ].getAttribute(\"data-variant-availability\");\r\n                    let variantPrice = this.options[\r\n                      this.selectedIndex\r\n                    ].getAttribute(\"data-variant-price\");\r\n                    let variantId = this.options[this.selectedIndex].value;\r\n                    let productItem = this.closest(\r\n                      \".ezy-type-productfeed__item\"\r\n                    );\r\n                    let button = productItem.getElementsByClassName(\r\n                      \"js:ezy-addVariantButtons\"\r\n                    )[0];\r\n\r\n                    // update variant id in button\r\n                    button.setAttribute(\"data-variant-id\", variantId);\r\n\r\n                    // update price in item\r\n                    productItem.getElementsByClassName(\r\n                      \"js:ezy-productPrice\"\r\n                    )[0].innerHTML = variantPrice;\r\n\r\n                    // check availability and update state\r\n                    if (variantAvailability == \"true\") {\r\n                      enableButton(button);\r\n                    } else {\r\n                      disableButton(button);\r\n                    }\r\n                  });\r\n                  // Create a new 'change' event\r\n                  var event = new Event(\"change\");\r\n                  changeVariantSelect.dispatchEvent(event);\r\n                });\r\n                let showNotification = function (message) {\r\n                  var notification = document.querySelector(\r\n                    \".ezy-notification\"\r\n                  );\r\n                  // for (var i = 0; i < notifications.length; i++) {\r\n                  //   let notification = notifications[i];\r\n                  //   let messageElement = notification.querySelector(\"span\");\r\n                  //   if (message) {\r\n                  //     messageElement.innerHTML = message;\r\n                  //   }\r\n                  //   notification.classList.add(\"ezy-notification--animate\");\r\n                  //   setTimeout(function () {\r\n                  //     notification.classList.remove(\r\n                  //       \"ezy-notification--animate\"\r\n                  //     );\r\n                  //   }, 3000);\r\n                  // }\r\n                  notification.innerHTML = message;\r\n                  notification.classList.add(\"ezy-notification--animate\");\r\n                  setTimeout(function () {\r\n                    notification.classList.remove(\"ezy-notification--animate\");\r\n                  }, 3000);\r\n                };\r\n              },\r\n            };\r\n            ezy.productfeed.init();\r\n          } else if (content.contentType === \"custom-html\") {\r\n            body.appendChild(modal);\r\n          }\r\n        }\r\n\r\n        initiateSettings();\r\n      } else if (style.campaignType === \"message-box\") {\r\n        // classes for the outermost shell\r\n        modal.classList.add(\r\n          \"ezy\",\r\n          \"ezy-style-box\",\r\n          `ezy-style-box--${style.placement}`\r\n        );\r\n\r\n        // SET CONTENT TYPES\r\n        function setContentTypes() {\r\n          // tw-hidden inside section\r\n          if (content.contentType === \"text-image\") {\r\n            modal.innerHTML = `\r\n            <section class=\"ezy-style-box__window\">\r\n\r\n    <div class=\"ezy-style-box__close tw-flex tw-flex-wrap tw-justify-center\">\r\n      <div class=\"tw-flex-grow tw-flex tw-w-1/2\">\r\n        <a href=\"https://brickspacelab.com/\" target=\"_blank\" class=\"ezy-tooltip ezy-tooltip--fill tw-self-center\r\n          ##IF PAID_PLAN##tw-hidden##ENDIF##\">\r\n          <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"feather feather-info\"><circle cx=\"12\" cy=\"12\" r=\"10\"></circle><line x1=\"12\" y1=\"16\" x2=\"12\" y2=\"12\"></line><line x1=\"12\" y1=\"8\" x2=\"12.01\" y2=\"8\"></line></svg>\r\n          <span>Powered by Easypop</span>\r\n        </a>\r\n      </div>\r\n      <div class=\"tw-flex-grow tw-w-1/2 tw-text-right\">\r\n        <a href=\"#\" title=\"Close popup\" class=\"closeBtn\";\">\r\n          <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"feather feather-x ezy-btn--round--fill\"><line x1=\"18\" y1=\"6\" x2=\"6\" y2=\"18\"></line><line x1=\"6\" y1=\"6\" x2=\"18\" y2=\"18\"></line></svg>\r\n        </a>\r\n      </div>\r\n    </div>\r\n\r\n    <section class=\"ezy-style-box__content\" style=\"\r\n      background-color:##BACKGROUND_COLOR##;\r\n      border-radius:##BORDER_RADIUS##;\">\r\n      <!-- CONTENT -->\r\n<section>\r\n  <div class=\"tw-flex tw-flex-row tw-flex-wrap tw-justify-center\">\r\n    <!-- ##IF IMAGE## -->\r\n    <div class=\"tw-w-full sm:tw-w-1/2\">\r\n      <div>\r\n        <img class=\"ezy-style-modal__content__image\" src=\"##IMAGE_SRC##\"/>\r\n      </div>\r\n    </div>\r\n    <!-- ##ENDIF## -->\r\n    <div class=\"tw-w-full sm:tw-w-1/2 tw-max-w-prose tw-flex tw-flex-grow tw-justify-center tw-items-center tw-p-4 tw-md:p-8\">\r\n      <div>\r\n        <h3 class=\"ezy-type__headline--bold-1 tw-mb-2\">##HEADLINE##</h3>\r\n        <p class=\"tw-mb-4\">\r\n          ##BODY##\r\n        </p>\r\n        <a class=\"ezy-btn tw-w-full\" href=\"##BUTTON_URL##\"\r\n          style=\"\r\n            background-color:##BUTTON_COLOR##;\r\n            border-radius:##BORDER_RADIUS##;\">##BUTTON_TEXT##</a>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</section>\r\n<!-- END CONTENT -->\r\n\r\n\r\n    </section>\r\n\r\n\r\n            `;\r\n\r\n            body.appendChild(modal);\r\n          } else if (content.contentType === \"newsletter\") {\r\n            let success;\r\n            let url = window.location.href;\r\n            if (url.includes(\"?customer_posted=true\")) {\r\n              success = \"yes\";\r\n            } else if (\r\n              url.includes(\r\n                \"t?contact%5Btags%5D=prospect%2Cnewsletter&form_type=customer\"\r\n              )\r\n            ) {\r\n              success = \"no\";\r\n            }\r\n\r\n            modal.innerHTML = `\r\n            <section class=\"ezy-style-box__window\">\r\n\r\n            <div class=\"ezy-style-box__close tw-flex tw-flex-wrap tw-justify-center\">\r\n              <div class=\"tw-flex-grow tw-flex tw-w-1/2\">\r\n                <a href=\"https://brickspacelab.com/\" target=\"_blank\" class=\"ezy-tooltip ezy-tooltip--fill tw-self-center\r\n                  ##IF PAID_PLAN##tw-hidden##ENDIF##\">\r\n                  <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"feather feather-info\"><circle cx=\"12\" cy=\"12\" r=\"10\"></circle><line x1=\"12\" y1=\"16\" x2=\"12\" y2=\"12\"></line><line x1=\"12\" y1=\"8\" x2=\"12.01\" y2=\"8\"></line></svg>\r\n                  <span>Powered by Easypop</span>\r\n                </a>\r\n              </div>\r\n              <div class=\"tw-flex-grow tw-w-1/2 tw-text-right\">\r\n                <a href=\"#\" title=\"Close popup\" onclick=\"ezy.boxes.closeAll();\">\r\n                  <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"feather feather-x ezy-btn--round--fill\"><line x1=\"18\" y1=\"6\" x2=\"6\" y2=\"18\"></line><line x1=\"6\" y1=\"6\" x2=\"18\" y2=\"18\"></line></svg>\r\n                </a>\r\n              </div>\r\n            </div>\r\n        \r\n            <section class=\"ezy-style-box__content\" style=\"\r\n              background-color:##BACKGROUND_COLOR##;\r\n              border-radius:##BORDER_RADIUS##;\">\r\n              <!-- CONTENT -->\r\n        <section>\r\n          <div class=\"tw-flex tw-flex-row tw-flex-wrap tw-justify-center\">\r\n        \r\n            <!-- ##IF IMAGE## -->\r\n            <div class=\"tw-w-full sm:tw-w-1/2\">\r\n              <div>\r\n                <img class=\"ezy-style-modal__content__image\" src=\"##IMAGE_SRC##\" />\r\n              </div>\r\n            </div>\r\n            <!-- ##ENDIF## -->\r\n        \r\n            <div class=\"tw-w-full sm:tw-w-1/2 tw-max-w-prose tw-flex tw-flex-grow tw-justify-center tw-items-center tw-p-4 tw-md:p-8\">\r\n              <div>\r\n                <h3 class=\"ezy-type__headline--bold-1 tw-mb-2\">\r\n                  ##HEADLINE##\r\n                </h3>\r\n                <p class=\"tw-mb-4\">##BODY##</p>\r\n                <form\r\n                  method=\"post\"\r\n                  action=\"/contact#contact_form\"\r\n                  id=\"contact_form\"\r\n                  accept-charset=\"UTF-8\"\r\n                  class=\"contact-form\">\r\n        \r\n                  <input\r\n                    type=\"hidden\"\r\n                    name=\"form_type\"\r\n                    value=\"customer\" />\r\n                  <input\r\n                    type=\"hidden\"\r\n                    name=\"utf8\"\r\n                    value=\"✓\" />\r\n                  <input\r\n                    id=\"contact_tags\"\r\n                    name=\"contact[tags]\"\r\n                    type=\"hidden\"\r\n                    value=\"easypop\" />\r\n                  <input\r\n                    class=\"tw-mb-2\"\r\n                    id=\"contact_email\"\r\n                    name=\"contact[email]\"\r\n                    type=\"email\" />\r\n                  <input\r\n                    class=\"ezy-btn tw-w-full\"\r\n                    type=\"submit\"\r\n                    value=\"##BUTTON_TEXT##\"\r\n                    style=\"\r\n                      background-color:##BUTTON_COLOR##;\r\n                      border-radius:##BORDER_RADIUS##;\" />\r\n        \r\n                  <!-- ##IF SUCCESS## -->\r\n                    <div class=\"tw-bg-black tw-bg-opacity-10 tw-mt-2 tw-p-2\"\r\n                      style=\"border-radius:##BORDER_RADIUS##;\">\r\n                      ##SUCCESS_MESSAGE##\r\n                    </div>\r\n                  <!-- ##ELSE## -->\r\n                    <div class=\"tw-bg-black tw-bg-opacity-10 tw-mt-2 tw-p-2\"\r\n                      style=\"border-radius:##BORDER_RADIUS##;\">\r\n                      ##ERROR_MESSAGE##\r\n                    </div>\r\n                  <!-- ##ENDIF## -->\r\n        \r\n                </form>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </section>\r\n        <!-- END CONTENT -->\r\n        \r\n        \r\n            </section>\r\n        `;\r\n            body.appendChild(modal);\r\n          } else if (content.contentType === \"cart-progress-bar\") {\r\n            // for local testing\r\n            let cartData = {\r\n              total_price: 49900,\r\n            };\r\n            let cartProgress;\r\n            if (cartData.total_price === 0) {\r\n              cartProgress = 0;\r\n            } else {\r\n              cartProgress =\r\n                (cartData.total_price / 100 / content.cartGoalValue) * 100;\r\n            }\r\n\r\n            let remainder = cartData.total_price / 100 - content.cartGoalValue;\r\n\r\n            modal.innerHTML = `\r\n            <section class=\"ezy-style-box__window\">\r\n\r\n    <div class=\"ezy-style-box__close tw-flex tw-flex-wrap tw-justify-center\">\r\n      <div class=\"tw-flex-grow tw-flex tw-w-1/2\">\r\n        <a href=\"https://brickspacelab.com/\" target=\"_blank\" class=\"ezy-tooltip ezy-tooltip--fill tw-self-center\r\n          ##IF PAID_PLAN##tw-hidden##ENDIF##\">\r\n          <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"feather feather-info\"><circle cx=\"12\" cy=\"12\" r=\"10\"></circle><line x1=\"12\" y1=\"16\" x2=\"12\" y2=\"12\"></line><line x1=\"12\" y1=\"8\" x2=\"12.01\" y2=\"8\"></line></svg>\r\n          <span>Powered by Easypop</span>\r\n        </a>\r\n      </div>\r\n      <div class=\"tw-flex-grow tw-w-1/2 tw-text-right\">\r\n        <a href=\"#\" title=\"Close popup\" onclick=\"ezy.boxes.closeAll();\">\r\n          <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"feather feather-x ezy-btn--round--fill\"><line x1=\"18\" y1=\"6\" x2=\"6\" y2=\"18\"></line><line x1=\"6\" y1=\"6\" x2=\"18\" y2=\"18\"></line></svg>\r\n        </a>\r\n      </div>\r\n    </div>\r\n\r\n    <section class=\"ezy-style-box__content\" style=\"\r\n      background-color:##BACKGROUND_COLOR##;\r\n      border-radius:##BORDER_RADIUS##;\">\r\n      <!-- CONTENT -->\r\n<section>\r\n  <div class=\"tw-flex tw-flex-row tw-flex-wrap tw-justify-center\">\r\n    <div class=\"tw-w-full sm:tw-w-1/2 tw-max-w-prose tw-flex tw-flex-grow tw-justify-center tw-items-center\">\r\n      <div class=\"tw-w-full\">\r\n\r\n        <section class=\"tw-border-b tw-border-gray-200 tw-p-4\">\r\n          <p class=\"tw-mb-1\">You're $xx.xx away from ##GOAL_TEXT##.</p>\r\n          <p class=\"tw-mb-1\">##SUCESS_TEXT##.</p>\r\n          <div class=\"ezy-progressbar\"\r\n            style=\"\r\n              background-color:##BUTTON_COLOR##;\r\n              border-radius:##BORDER_RADIUS##;\">\r\n            <div class=\"ezy-progressbar__inner\" style=\"width:66%;\">\r\n            </div>\r\n          </div>\r\n        </section>\r\n\r\n        <section class=\"tw-p-4 tw-md:p-8\">\r\n          <h3 class=\"ezy-type__headline--bold-1 tw-mb-2\">##HEADLINE##</h3>\r\n          <p class=\"tw-mb-4\">\r\n            ##BODY##\r\n          </p>\r\n\r\n          <a class=\"ezy-btn tw-w-full\" href=\"##BUTTON_URL##\"\r\n            style=\"\r\n              background-color:##BUTTON_COLOR##;\r\n              border-radius:##BORDER_RADIUS##;\">\r\n            ##BUTTON_TEXT##\r\n          </a>\r\n        </section>\r\n\r\n      </div>\r\n    </div>\r\n  </div>\r\n</section>\r\n<!-- END CONTENT -->\r\n\r\n\r\n    </section>\r\n\r\n            \r\n          \r\n          `;\r\n            body.appendChild(modal);\r\n          } else if (content.contentType === \"product-feed\") {\r\n            const products = content.selectedProducts[0].selection;\r\n            modal.innerHTML = `\r\n            \r\n            <section class=\"ezy-style-box__window\">\r\n\r\n    <div class=\"ezy-style-box__close tw-flex tw-flex-wrap tw-justify-center\">\r\n      <div class=\"tw-flex-grow tw-flex tw-w-1/2\">\r\n        <a href=\"https://brickspacelab.com/\" target=\"_blank\" class=\"ezy-tooltip ezy-tooltip--fill tw-self-center\r\n          ##IF PAID_PLAN##tw-hidden##ENDIF##\">\r\n          <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"feather feather-info\"><circle cx=\"12\" cy=\"12\" r=\"10\"></circle><line x1=\"12\" y1=\"16\" x2=\"12\" y2=\"12\"></line><line x1=\"12\" y1=\"8\" x2=\"12.01\" y2=\"8\"></line></svg>\r\n          <span>Powered by Easypop</span>\r\n        </a>\r\n      </div>\r\n      <div class=\"tw-flex-grow tw-w-1/2 tw-text-right\">\r\n        <a href=\"#\" title=\"Close popup\" onclick=\"ezy.boxes.closeAll();\">\r\n          <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"feather feather-x ezy-btn--round--fill\"><line x1=\"18\" y1=\"6\" x2=\"6\" y2=\"18\"></line><line x1=\"6\" y1=\"6\" x2=\"18\" y2=\"18\"></line></svg>\r\n        </a>\r\n      </div>\r\n    </div>\r\n\r\n    <section class=\"ezy-style-box__content\" style=\"\r\n      background-color:##BACKGROUND_COLOR##;\r\n      border-radius:##BORDER_RADIUS##;\">\r\n      <!-- CONTENT -->\r\n<div class=\"tw-flex tw-flex-row tw-flex-wrap\">\r\n  <div class=\"tw-w-full sm:tw-w-full tw-flex tw-justify-center tw-items-center\">\r\n    <div class=\"tw-overflow-hidden\">\r\n      <div class=\"tw-p-4 tw-max-w-prose\">\r\n        <h3 class=\"ezy-type__headline--bold-1\">##HEADLINE##</h3>\r\n        <p>\r\n          ##BODY##\r\n        </p>\r\n      </div>\r\n      <div class=\"ezy-type-productfeed__arrows\">\r\n        <div class=\"ezy-type-productfeed__back\">\r\n          <button class=\"js:ezy-scrollArrowButtons\" data-scroll-direction=\"0\" data-scroll-container=\"ezy-type-productfeed\">\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"feather feather-arrow-left ezy-btn--round\"><line x1=\"19\" y1=\"12\" x2=\"5\" y2=\"12\"></line><polyline points=\"12 19 5 12 12 5\"></polyline></svg>\r\n          </button>\r\n        </div>\r\n        <div class=\"ezy-type-productfeed__next\">\r\n          <button class=\"js:ezy-scrollArrowButtons\" data-scroll-direction=\"1\" data-scroll-container=\"ezy-type-productfeed\">\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"feather feather-arrow-right ezy-btn--round\"><line x1=\"5\" y1=\"12\" x2=\"19\" y2=\"12\"></line><polyline points=\"12 5 19 12 12 19\"></polyline></svg>\r\n          </button>\r\n        </div>\r\n      </div>\r\n      <div class=\"ezy-type-productfeed\">\r\n\r\n        <!-- FOR PRODUCT IN PRODUCTS -->\r\n        <div class=\"ezy-type-productfeed__item\">\r\n          <img class=\"image--square\" src=\"https://images.unsplash.com/photo-1602607203559-d38903b80507?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=3898&q=80\"/>\r\n          <div class=\"tw-px-2 tw-py-4\">\r\n            <p>##PRODUCT_TITLE##</p>\r\n            <p class=\"tw-pb-2\">$<span class=\"tw-pb-2 js:ezy-productPrice\">##PRICE##</span></p>\r\n            <select id=\"id\" name=\"id\" class=\"ezy-select tw-mb-2 js:ezy-changeVariantSelects\">\r\n              <!-- FOR VARIANT IN VARIANTS -->\r\n              <option value=\"##VARIANT_ID##\" data-variant-availability=\"##VARIANT_AVAILABLE##\" data-variant-price=\"##VARIANT_PRICE##\">##VARIANT_TITLE##</option>\r\n              <option value=\"##VARIANT_ID##\" data-variant-availability=\"##VARIANT_AVAILABLE##\" data-variant-price=\"##VARIANT_PRICE##\">##VARIANT_TITLE##</option>\r\n              <option value=\"36804582244502\" data-variant-availability=\"true\" data-variant-price=\"16.00\">Blue/black</option>\r\n              <!-- ENDFOR -->\r\n            </select>\r\n            <button class=\"ezy-btn js:ezy-addVariantButtons tw-w-full\" data-variant-id=\"##FIRST_AVAIALBLE_VARIANT_ID##\"\r\n              style=\"\r\n                background-color:##BUTTON_COLOR##;\r\n                border-radius:##BORDER_RADIUS##;\">\r\n              <span class=\"ezy-btn__text\">\r\n                Add to cart\r\n              </span>\r\n              <span class=\"ezy-btn__spinner\">\r\n                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"feather feather-loader\"><line x1=\"12\" y1=\"2\" x2=\"12\" y2=\"6\"></line><line x1=\"12\" y1=\"18\" x2=\"12\" y2=\"22\"></line><line x1=\"4.93\" y1=\"4.93\" x2=\"7.76\" y2=\"7.76\"></line><line x1=\"16.24\" y1=\"16.24\" x2=\"19.07\" y2=\"19.07\"></line><line x1=\"2\" y1=\"12\" x2=\"6\" y2=\"12\"></line><line x1=\"18\" y1=\"12\" x2=\"22\" y2=\"12\"></line><line x1=\"4.93\" y1=\"19.07\" x2=\"7.76\" y2=\"16.24\"></line><line x1=\"16.24\" y1=\"7.76\" x2=\"19.07\" y2=\"4.93\"></line></svg>\r\n              </button>\r\n            </a>\r\n          </div>\r\n        </div>\r\n        <!-- ENDFOR -->\r\n\r\n        <div class=\"ezy-type-productfeed__item\">\r\n          <img class=\"image--square\" src=\"https://images.unsplash.com/photo-1602607203559-d38903b80507?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=3898&q=80\"/>\r\n          <div class=\"tw-px-2 tw-py-4\">\r\n            <p>Title</p>\r\n            <p class=\"tw-pb-2\">$<span class=\"tw-pb-2 js:ezy-productPrice\">4.00</span></p>\r\n            <select id=\"id\" name=\"id\" class=\"ezy-select tw-mb-2 js:ezy-changeVariantSelects\">\r\n              <!-- FOR VARIANT IN VARIANTS -->\r\n              <option value=\"36804582244502\" data-variant-availability=\"true\" data-variant-price=\"4.00\">Black</option>\r\n              <option value=\"36804582244502\" data-variant-availability=\"false\" data-variant-price=\"3.00\">Pink/Black</option>\r\n              <option value=\"36804582244502\" data-variant-availability=\"true\" data-variant-price=\"16.00\">Blue/Black</option>\r\n              <!-- ENDFOR -->\r\n            </select>\r\n            <button class=\"ezy-btn js:ezy-addVariantButtons tw-w-full\" data-variant-id=\"##FIRST_AVAIALBLE_VARIANT_ID##\">\r\n              <span class=\"ezy-btn__text\">\r\n                Add to cart\r\n              </span>\r\n              <span class=\"ezy-btn__spinner\">\r\n                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"feather feather-loader\"><line x1=\"12\" y1=\"2\" x2=\"12\" y2=\"6\"></line><line x1=\"12\" y1=\"18\" x2=\"12\" y2=\"22\"></line><line x1=\"4.93\" y1=\"4.93\" x2=\"7.76\" y2=\"7.76\"></line><line x1=\"16.24\" y1=\"16.24\" x2=\"19.07\" y2=\"19.07\"></line><line x1=\"2\" y1=\"12\" x2=\"6\" y2=\"12\"></line><line x1=\"18\" y1=\"12\" x2=\"22\" y2=\"12\"></line><line x1=\"4.93\" y1=\"19.07\" x2=\"7.76\" y2=\"16.24\"></line><line x1=\"16.24\" y1=\"7.76\" x2=\"19.07\" y2=\"4.93\"></line></svg>\r\n              </button>\r\n            </a>\r\n          </div>\r\n        </div>\r\n        <div class=\"ezy-type-productfeed__item\">\r\n          <img class=\"image--square\" src=\"https://images.unsplash.com/photo-1602607203559-d38903b80507?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=3898&q=80\"/>\r\n          <div class=\"tw-px-2 tw-py-4\">\r\n            <p>Title</p>\r\n            <p class=\"tw-pb-2\">$<span class=\"tw-pb-2 js:ezy-productPrice\">4.00</span></p>\r\n            <select id=\"id\" name=\"id\" class=\"ezy-select tw-mb-2 js:ezy-changeVariantSelects\">\r\n              <!-- FOR VARIANT IN VARIANTS -->\r\n              <option value=\"36804582244502\" data-variant-availability=\"true\" data-variant-price=\"4.00\">Black</option>\r\n              <option value=\"36804582244502\" data-variant-availability=\"false\" data-variant-price=\"3.00\">Pink/Black</option>\r\n              <option value=\"36804582244502\" data-variant-availability=\"true\" data-variant-price=\"16.00\">Blue/Black</option>\r\n              <!-- ENDFOR -->\r\n            </select>\r\n            <button class=\"ezy-btn js:ezy-addVariantButtons tw-w-full\" data-variant-id=\"##FIRST_AVAIALBLE_VARIANT_ID##\">\r\n              <span class=\"ezy-btn__text\">\r\n                Add to cart\r\n              </span>\r\n              <span class=\"ezy-btn__spinner\">\r\n                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"feather feather-loader\"><line x1=\"12\" y1=\"2\" x2=\"12\" y2=\"6\"></line><line x1=\"12\" y1=\"18\" x2=\"12\" y2=\"22\"></line><line x1=\"4.93\" y1=\"4.93\" x2=\"7.76\" y2=\"7.76\"></line><line x1=\"16.24\" y1=\"16.24\" x2=\"19.07\" y2=\"19.07\"></line><line x1=\"2\" y1=\"12\" x2=\"6\" y2=\"12\"></line><line x1=\"18\" y1=\"12\" x2=\"22\" y2=\"12\"></line><line x1=\"4.93\" y1=\"19.07\" x2=\"7.76\" y2=\"16.24\"></line><line x1=\"16.24\" y1=\"7.76\" x2=\"19.07\" y2=\"4.93\"></line></svg>\r\n              </button>\r\n            </a>\r\n          </div>\r\n        </div>\r\n        <div class=\"ezy-type-productfeed__item\">\r\n          <img class=\"image--square\" src=\"https://images.unsplash.com/photo-1602607203559-d38903b80507?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=3898&q=80\"/>\r\n          <div class=\"tw-px-2 tw-py-4\">\r\n            <p>Title</p>\r\n            <p class=\"tw-pb-2\">$<span class=\"tw-pb-2 js:ezy-productPrice\">4.00</span></p>\r\n            <select id=\"id\" name=\"id\" class=\"ezy-select tw-mb-2 js:ezy-changeVariantSelects\">\r\n              <!-- FOR VARIANT IN VARIANTS -->\r\n              <option value=\"36804582244502\" data-variant-availability=\"true\" data-variant-price=\"4.00\">Black</option>\r\n              <option value=\"36804582244502\" data-variant-availability=\"false\" data-variant-price=\"3.00\">Pink/Black</option>\r\n              <option value=\"36804582244502\" data-variant-availability=\"true\" data-variant-price=\"16.00\">Blue/Black</option>\r\n              <!-- ENDFOR -->\r\n            </select>\r\n            <button class=\"ezy-btn js:ezy-addVariantButtons tw-w-full\" data-variant-id=\"##FIRST_AVAIALBLE_VARIANT_ID##\">\r\n              <span class=\"ezy-btn__text\">\r\n                Add to cart\r\n              </span>\r\n              <span class=\"ezy-btn__spinner\">\r\n                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"feather feather-loader\"><line x1=\"12\" y1=\"2\" x2=\"12\" y2=\"6\"></line><line x1=\"12\" y1=\"18\" x2=\"12\" y2=\"22\"></line><line x1=\"4.93\" y1=\"4.93\" x2=\"7.76\" y2=\"7.76\"></line><line x1=\"16.24\" y1=\"16.24\" x2=\"19.07\" y2=\"19.07\"></line><line x1=\"2\" y1=\"12\" x2=\"6\" y2=\"12\"></line><line x1=\"18\" y1=\"12\" x2=\"22\" y2=\"12\"></line><line x1=\"4.93\" y1=\"19.07\" x2=\"7.76\" y2=\"16.24\"></line><line x1=\"16.24\" y1=\"7.76\" x2=\"19.07\" y2=\"4.93\"></line></svg>\r\n              </button>\r\n            </a>\r\n          </div>\r\n        </div>\r\n        <div class=\"ezy-type-productfeed__item\">\r\n          <img class=\"image--square\" src=\"https://images.unsplash.com/photo-1602607203559-d38903b80507?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=3898&q=80\"/>\r\n          <div class=\"tw-px-2 tw-py-4\">\r\n            <p>Title</p>\r\n            <p class=\"tw-pb-2\">$<span class=\"tw-pb-2 js:ezy-productPrice\">4.00</span></p>\r\n            <select id=\"id\" name=\"id\" class=\"ezy-select tw-mb-2 js:ezy-changeVariantSelects\">\r\n              <!-- FOR VARIANT IN VARIANTS -->\r\n              <option value=\"36804582244502\" data-variant-availability=\"true\" data-variant-price=\"4.00\">Black</option>\r\n              <option value=\"36804582244502\" data-variant-availability=\"false\" data-variant-price=\"3.00\">Pink/Black</option>\r\n              <option value=\"36804582244502\" data-variant-availability=\"true\" data-variant-price=\"16.00\">Blue/Black</option>\r\n              <!-- ENDFOR -->\r\n            </select>\r\n            <button class=\"ezy-btn js:ezy-addVariantButtons tw-w-full\" data-variant-id=\"##FIRST_AVAIALBLE_VARIANT_ID##\"\r\n              style=\"\r\n                background-color:##BUTTON_COLOR##;\r\n                border-radius:##BORDER_RADIUS##;\">\r\n              <span class=\"ezy-btn__text\">\r\n                Add to cart\r\n              </span>\r\n              <span class=\"ezy-btn__spinner\">\r\n                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"feather feather-loader\"><line x1=\"12\" y1=\"2\" x2=\"12\" y2=\"6\"></line><line x1=\"12\" y1=\"18\" x2=\"12\" y2=\"22\"></line><line x1=\"4.93\" y1=\"4.93\" x2=\"7.76\" y2=\"7.76\"></line><line x1=\"16.24\" y1=\"16.24\" x2=\"19.07\" y2=\"19.07\"></line><line x1=\"2\" y1=\"12\" x2=\"6\" y2=\"12\"></line><line x1=\"18\" y1=\"12\" x2=\"22\" y2=\"12\"></line><line x1=\"4.93\" y1=\"19.07\" x2=\"7.76\" y2=\"16.24\"></line><line x1=\"16.24\" y1=\"7.76\" x2=\"19.07\" y2=\"4.93\"></line></svg>\r\n              </button>\r\n            </a>\r\n          </div>\r\n        </div>\r\n\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n</section>`;\r\n\r\n            body.appendChild(modal);\r\n            var ezy = ezy || {};\r\n            ezy.productfeed = {\r\n              // simple fetch call\r\n              fetch: function (\r\n                requestType,\r\n                url,\r\n                data,\r\n                contentType,\r\n                successCallback,\r\n                errorCallback\r\n              ) {\r\n                fetch(url, {\r\n                  method: requestType,\r\n                  headers: {\r\n                    \"Content-Type\": contentType,\r\n                    Accept: contentType,\r\n                    \"X-Requested-With\": \"xmlhttprequest\",\r\n                  },\r\n                  body: JSON.stringify(data),\r\n                })\r\n                  .then((response) => response.json())\r\n                  .then((data) => {\r\n                    successCallback(data);\r\n                  })\r\n                  .catch((error) => {\r\n                    errorCallback(error);\r\n                  });\r\n              },\r\n\r\n              // initilize product feed\r\n              init: function () {\r\n                // add variant to cart\r\n                function addVariant(variantID, quantity, callback) {\r\n                  let data = {\r\n                    items: [\r\n                      {\r\n                        id: variantID,\r\n                        quantity: quantity,\r\n                      },\r\n                    ],\r\n                  };\r\n                  ezy.productfeed.fetch(\r\n                    \"POST\",\r\n                    \"/cart/add.js\",\r\n                    data,\r\n                    \"application/json; charset=utf-8\",\r\n\r\n                    // success\r\n                    function (data) {\r\n                      console.log(data);\r\n                      if (typeof callback === \"function\" && callback()) {\r\n                        window.setTimeout(function () {\r\n                          callback();\r\n                        }, 500);\r\n                      }\r\n                    },\r\n\r\n                    // error\r\n                    function (error) {\r\n                      if (typeof callback === \"function\" && callback()) {\r\n                        window.setTimeout(function () {\r\n                          callback();\r\n                        }, 500);\r\n                      }\r\n                    }\r\n                  );\r\n                }\r\n\r\n                // scroll container horizontally\r\n                function scrollHorizontally(element, direction) {\r\n                  if (direction == 0) {\r\n                    element.scroll({\r\n                      left: element.scrollLeft - 350,\r\n                      behavior: \"smooth\",\r\n                    });\r\n                  } else {\r\n                    element.scroll({\r\n                      left: element.scrollLeft + 350,\r\n                      behavior: \"smooth\",\r\n                    });\r\n                  }\r\n                }\r\n\r\n                // toggle loading state of button\r\n                function toggleButton(button) {\r\n                  if (button.classList.contains(\"ezy-btn--loading\")) {\r\n                    button.classList.remove(\"ezy-btn--loading\");\r\n                    button.disabled = false;\r\n                  } else {\r\n                    button.classList.add(\"ezy-btn--loading\");\r\n                    button.disabled = true;\r\n                  }\r\n                }\r\n\r\n                // add disabled state to button\r\n                function disableButton(button) {\r\n                  button.classList.add(\"ezy-btn--disabled\");\r\n                  button.disabled = true;\r\n                }\r\n\r\n                // add enabled state to button\r\n                function enableButton(button) {\r\n                  button.classList.remove(\"ezy-btn--disabled\");\r\n                  button.disabled = false;\r\n                }\r\n\r\n                // listen for click on scroll arrows\r\n                var scrollArrowButtons = document.getElementsByClassName(\r\n                  \"js:ezy-scrollArrowButtons\"\r\n                );\r\n                Array.from(scrollArrowButtons).forEach(function (\r\n                  scrollArrowButton\r\n                ) {\r\n                  scrollArrowButton.addEventListener(\"click\", function (e) {\r\n                    let scrollContainerClass = this.getAttribute(\r\n                      \"data-scroll-container\"\r\n                    );\r\n                    let scrollDirection = this.getAttribute(\r\n                      \"data-scroll-direction\"\r\n                    );\r\n                    var scrollContainers = document.getElementsByClassName(\r\n                      scrollContainerClass\r\n                    );\r\n                    Array.from(scrollContainers).forEach(function (\r\n                      scrollContainer\r\n                    ) {\r\n                      scrollHorizontally(scrollContainer, scrollDirection);\r\n                    });\r\n                  });\r\n                });\r\n\r\n                // listen for click on atc\r\n                var addVariantButtons = document.getElementsByClassName(\r\n                  \"js:ezy-addVariantButtons\"\r\n                );\r\n                Array.from(addVariantButtons).forEach(function (\r\n                  addVariantButton\r\n                ) {\r\n                  addVariantButton.addEventListener(\"click\", function (e) {\r\n                    let variantId = this.getAttribute(\"data-variant-id\");\r\n                    showNotification(\"Product was added to the cart!\");\r\n                    toggleButton(addVariantButton);\r\n                    addVariant(variantId, 1, function () {\r\n                      toggleButton(addVariantButton);\r\n                    });\r\n                    if (content.closingBehav === \"close\") {\r\n                      modal.classList.add(\"ezy-style-modal--animate\");\r\n                      setTimeout(function () {\r\n                        modal.classList.add(\"tw-hidden\");\r\n                      }, 1000);\r\n                    }\r\n                  });\r\n                });\r\n\r\n                // listen for change to for variant select\r\n                var changeVariantSelects = document.getElementsByClassName(\r\n                  \"js:ezy-changeVariantSelects\"\r\n                );\r\n                Array.from(changeVariantSelects).forEach(function (\r\n                  changeVariantSelect\r\n                ) {\r\n                  changeVariantSelect.addEventListener(\"change\", function () {\r\n                    let variantAvailability = this.options[\r\n                      this.selectedIndex\r\n                    ].getAttribute(\"data-variant-availability\");\r\n                    let variantPrice = this.options[\r\n                      this.selectedIndex\r\n                    ].getAttribute(\"data-variant-price\");\r\n                    let variantId = this.options[this.selectedIndex].value;\r\n                    let productItem = this.closest(\r\n                      \".ezy-type-productfeed__item\"\r\n                    );\r\n                    let button = productItem.getElementsByClassName(\r\n                      \"js:ezy-addVariantButtons\"\r\n                    )[0];\r\n\r\n                    // update variant id in button\r\n                    button.setAttribute(\"data-variant-id\", variantId);\r\n\r\n                    // update price in item\r\n                    productItem.getElementsByClassName(\r\n                      \"js:ezy-productPrice\"\r\n                    )[0].innerHTML = variantPrice;\r\n\r\n                    // check availability and update state\r\n                    if (variantAvailability == \"true\") {\r\n                      enableButton(button);\r\n                    } else {\r\n                      disableButton(button);\r\n                    }\r\n                  });\r\n                  // Create a new 'change' event\r\n                  var event = new Event(\"change\");\r\n                  changeVariantSelect.dispatchEvent(event);\r\n                });\r\n                let showNotification = function (message) {\r\n                  var notification = document.querySelector(\r\n                    \".ezy-notification\"\r\n                  );\r\n                  // for (var i = 0; i < notifications.length; i++) {\r\n                  //   let notification = notifications[i];\r\n                  //   let messageElement = notification.querySelector(\"span\");\r\n                  //   if (message) {\r\n                  //     messageElement.innerHTML = message;\r\n                  //   }\r\n                  //   notification.classList.add(\"ezy-notification--animate\");\r\n                  //   setTimeout(function () {\r\n                  //     notification.classList.remove(\r\n                  //       \"ezy-notification--animate\"\r\n                  //     );\r\n                  //   }, 3000);\r\n                  // }\r\n                  notification.innerHTML = message;\r\n                  notification.classList.add(\"ezy-notification--animate\");\r\n                  setTimeout(function () {\r\n                    notification.classList.remove(\"ezy-notification--animate\");\r\n                  }, 3000);\r\n                };\r\n              },\r\n            };\r\n            ezy.productfeed.init();\r\n          } else if (content.contentType === \"custom-html\") {\r\n            body.appendChild(modal);\r\n          }\r\n        }\r\n\r\n        initiateSettings();\r\n      }\r\n    });\r\n  } catch (err) {\r\n    console.log(err);\r\n  }\r\n};\r\ncampaignInfo();\r\n","var OVERLAY_ID = '__parcel__error__overlay__';\n\nvar OldModule = module.bundle.Module;\n\nfunction Module(moduleName) {\n  OldModule.call(this, moduleName);\n  this.hot = {\n    data: module.bundle.hotData,\n    _acceptCallbacks: [],\n    _disposeCallbacks: [],\n    accept: function (fn) {\n      this._acceptCallbacks.push(fn || function () {});\n    },\n    dispose: function (fn) {\n      this._disposeCallbacks.push(fn);\n    }\n  };\n\n  module.bundle.hotData = null;\n}\n\nmodule.bundle.Module = Module;\nvar checkedAssets, assetsToAccept;\n\nvar parent = module.bundle.parent;\nif ((!parent || !parent.isParcelRequire) && typeof WebSocket !== 'undefined') {\n  var hostname = process.env.HMR_HOSTNAME || location.hostname;\n  var protocol = location.protocol === 'https:' ? 'wss' : 'ws';\n  var ws = new WebSocket(protocol + '://' + hostname + ':' + process.env.HMR_PORT + '/');\n  ws.onmessage = function(event) {\n    checkedAssets = {};\n    assetsToAccept = [];\n\n    var data = JSON.parse(event.data);\n\n    if (data.type === 'update') {\n      var handled = false;\n      data.assets.forEach(function(asset) {\n        if (!asset.isNew) {\n          var didAccept = hmrAcceptCheck(global.parcelRequire, asset.id);\n          if (didAccept) {\n            handled = true;\n          }\n        }\n      });\n\n      // Enable HMR for CSS by default.\n      handled = handled || data.assets.every(function(asset) {\n        return asset.type === 'css' && asset.generated.js;\n      });\n\n      if (handled) {\n        console.clear();\n\n        data.assets.forEach(function (asset) {\n          hmrApply(global.parcelRequire, asset);\n        });\n\n        assetsToAccept.forEach(function (v) {\n          hmrAcceptRun(v[0], v[1]);\n        });\n      } else if (location.reload) { // `location` global exists in a web worker context but lacks `.reload()` function.\n        location.reload();\n      }\n    }\n\n    if (data.type === 'reload') {\n      ws.close();\n      ws.onclose = function () {\n        location.reload();\n      }\n    }\n\n    if (data.type === 'error-resolved') {\n      console.log('[parcel] ✨ Error resolved');\n\n      removeErrorOverlay();\n    }\n\n    if (data.type === 'error') {\n      console.error('[parcel] 🚨  ' + data.error.message + '\\n' + data.error.stack);\n\n      removeErrorOverlay();\n\n      var overlay = createErrorOverlay(data);\n      document.body.appendChild(overlay);\n    }\n  };\n}\n\nfunction removeErrorOverlay() {\n  var overlay = document.getElementById(OVERLAY_ID);\n  if (overlay) {\n    overlay.remove();\n  }\n}\n\nfunction createErrorOverlay(data) {\n  var overlay = document.createElement('div');\n  overlay.id = OVERLAY_ID;\n\n  // html encode message and stack trace\n  var message = document.createElement('div');\n  var stackTrace = document.createElement('pre');\n  message.innerText = data.error.message;\n  stackTrace.innerText = data.error.stack;\n\n  overlay.innerHTML = (\n    '<div style=\"background: black; font-size: 16px; color: white; position: fixed; height: 100%; width: 100%; top: 0px; left: 0px; padding: 30px; opacity: 0.85; font-family: Menlo, Consolas, monospace; z-index: 9999;\">' +\n      '<span style=\"background: red; padding: 2px 4px; border-radius: 2px;\">ERROR</span>' +\n      '<span style=\"top: 2px; margin-left: 5px; position: relative;\">🚨</span>' +\n      '<div style=\"font-size: 18px; font-weight: bold; margin-top: 20px;\">' + message.innerHTML + '</div>' +\n      '<pre>' + stackTrace.innerHTML + '</pre>' +\n    '</div>'\n  );\n\n  return overlay;\n\n}\n\nfunction getParents(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return [];\n  }\n\n  var parents = [];\n  var k, d, dep;\n\n  for (k in modules) {\n    for (d in modules[k][1]) {\n      dep = modules[k][1][d];\n      if (dep === id || (Array.isArray(dep) && dep[dep.length - 1] === id)) {\n        parents.push(k);\n      }\n    }\n  }\n\n  if (bundle.parent) {\n    parents = parents.concat(getParents(bundle.parent, id));\n  }\n\n  return parents;\n}\n\nfunction hmrApply(bundle, asset) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (modules[asset.id] || !bundle.parent) {\n    var fn = new Function('require', 'module', 'exports', asset.generated.js);\n    asset.isNew = !modules[asset.id];\n    modules[asset.id] = [fn, asset.deps];\n  } else if (bundle.parent) {\n    hmrApply(bundle.parent, asset);\n  }\n}\n\nfunction hmrAcceptCheck(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (!modules[id] && bundle.parent) {\n    return hmrAcceptCheck(bundle.parent, id);\n  }\n\n  if (checkedAssets[id]) {\n    return;\n  }\n  checkedAssets[id] = true;\n\n  var cached = bundle.cache[id];\n\n  assetsToAccept.push([bundle, id]);\n\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    return true;\n  }\n\n  return getParents(global.parcelRequire, id).some(function (id) {\n    return hmrAcceptCheck(global.parcelRequire, id)\n  });\n}\n\nfunction hmrAcceptRun(bundle, id) {\n  var cached = bundle.cache[id];\n  bundle.hotData = {};\n  if (cached) {\n    cached.hot.data = bundle.hotData;\n  }\n\n  if (cached && cached.hot && cached.hot._disposeCallbacks.length) {\n    cached.hot._disposeCallbacks.forEach(function (cb) {\n      cb(bundle.hotData);\n    });\n  }\n\n  delete bundle.cache[id];\n  bundle(id);\n\n  cached = bundle.cache[id];\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    cached.hot._acceptCallbacks.forEach(function (cb) {\n      cb();\n    });\n    return true;\n  }\n}\n"]}